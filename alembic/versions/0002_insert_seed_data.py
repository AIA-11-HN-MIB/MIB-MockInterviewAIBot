"""Insert all seed data

Revision ID: 0002
Revises: 0001
Create Date: 2025-11-12 00:00:00.000000
"""
from typing import Sequence, Union
from datetime import datetime, timedelta
import uuid

from alembic import op
import sqlalchemy as sa
from sqlalchemy import Table, Column, MetaData
from sqlalchemy.dialects.postgresql import UUID, ARRAY, JSONB
from sqlalchemy import String, Text, Integer, Float, Boolean, DateTime


# revision identifiers, used by Alembic.
revision: str = '0002'
down_revision: Union[str, Sequence[str], None] = '0001'
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    """Seed all data for development and testing."""

    # Get connection
    conn = op.get_bind()
    metadata = MetaData()
    now = datetime.utcnow()

    # Define table schemas for bulk insert
    candidates_table = Table(
        'candidates', metadata,
        Column('id', UUID(as_uuid=True)),
        Column('name', String),
        Column('email', String),
        Column('cv_file_path', String),
        Column('created_at', DateTime),
        Column('updated_at', DateTime),
    )

    questions_table = Table(
        'questions', metadata,
        Column('id', UUID(as_uuid=True)),
        Column('text', Text),
        Column('question_type', String),
        Column('difficulty', String),
        Column('skills', ARRAY(String)),
        Column('tags', ARRAY(String)),
        Column('evaluation_criteria', Text),
        Column('ideal_answer', Text),
        Column('rationale', Text),
        Column('version', Integer),
        Column('created_at', DateTime),
        Column('updated_at', DateTime),
    )

    cv_analyses_table = Table(
        'cv_analyses', metadata,
        Column('id', UUID(as_uuid=True)),
        Column('candidate_id', UUID(as_uuid=True)),
        Column('cv_file_path', String),
        Column('extracted_text', Text),
        Column('skills', JSONB),
        Column('work_experience_years', Float),
        Column('education_level', String),
        Column('suggested_topics', ARRAY(String)),
        Column('suggested_difficulty', String),
        Column('summary', Text),
        Column('metadata', JSONB),
        Column('created_at', DateTime),
    )

    interviews_table = Table(
        'interviews', metadata,
        Column('id', UUID(as_uuid=True)),
        Column('candidate_id', UUID(as_uuid=True)),
        Column('status', String),
        Column('cv_analysis_id', UUID(as_uuid=True)),
        Column('question_ids', ARRAY(UUID(as_uuid=True))),
        Column('answer_ids', ARRAY(UUID(as_uuid=True))),
        Column('current_question_index', Integer),
        Column('plan_metadata', JSONB),
        Column('adaptive_follow_ups', ARRAY(UUID(as_uuid=True))),
        Column('started_at', DateTime),
        Column('completed_at', DateTime),
        Column('created_at', DateTime),
        Column('updated_at', DateTime),
    )

    answers_table = Table(
        'answers', metadata,
        Column('id', UUID(as_uuid=True)),
        Column('interview_id', UUID(as_uuid=True)),
        Column('question_id', UUID(as_uuid=True)),
        Column('candidate_id', UUID(as_uuid=True)),
        Column('text', Text),
        Column('is_voice', Boolean),
        Column('audio_file_path', String),
        Column('duration_seconds', Float),
        Column('evaluation', JSONB),
        Column('similarity_score', Float),
        Column('gaps', JSONB),
        Column('metadata', JSONB),
        Column('created_at', DateTime),
        Column('evaluated_at', DateTime),
    )

    follow_up_questions_table = Table(
        'follow_up_questions', metadata,
        Column('id', UUID(as_uuid=True)),
        Column('parent_question_id', UUID(as_uuid=True)),
        Column('interview_id', UUID(as_uuid=True)),
        Column('text', Text),
        Column('generated_reason', Text),
        Column('order_in_sequence', Integer),
        Column('created_at', DateTime),
    )

    # =============================================
    # SEED DATA - CANDIDATES (10 total: 3 + 7)
    # =============================================
    op.bulk_insert(candidates_table, [
        {
            'id': uuid.UUID('550e8400-e29b-41d4-a716-446655440001'),
            'name': 'John Doe',
            'email': 'john.doe@example.com',
            'cv_file_path': '/uploads/cvs/john_doe_cv.pdf',
            'created_at': now - timedelta(days=30),
            'updated_at': now - timedelta(days=30),
        },
        {
            'id': uuid.UUID('550e8400-e29b-41d4-a716-446655440002'),
            'name': 'Jane Smith',
            'email': 'jane.smith@example.com',
            'cv_file_path': '/uploads/cvs/jane_smith_cv.pdf',
            'created_at': now - timedelta(days=25),
            'updated_at': now - timedelta(days=25),
        },
        {
            'id': uuid.UUID('550e8400-e29b-41d4-a716-446655440003'),
            'name': 'Bob Johnson',
            'email': 'bob.johnson@example.com',
            'cv_file_path': '/uploads/cvs/bob_johnson_cv.pdf',
            'created_at': now - timedelta(days=20),
            'updated_at': now - timedelta(days=20),
        },
        {
            'id': uuid.UUID('660e8400-e29b-41d4-a716-446655440001'),
            'name': 'Alice Chen',
            'email': 'alice.chen@example.com',
            'cv_file_path': '/uploads/cvs/alice_chen_cv.pdf',
            'created_at': now - timedelta(days=14),
            'updated_at': now - timedelta(days=14),
        },
        {
            'id': uuid.UUID('660e8400-e29b-41d4-a716-446655440002'),
            'name': 'Michael Rodriguez',
            'email': 'michael.rodriguez@example.com',
            'cv_file_path': '/uploads/cvs/michael_rodriguez_cv.pdf',
            'created_at': now - timedelta(days=12),
            'updated_at': now - timedelta(days=12),
        },
        {
            'id': uuid.UUID('660e8400-e29b-41d4-a716-446655440003'),
            'name': 'Sarah Williams',
            'email': 'sarah.williams@example.com',
            'cv_file_path': '/uploads/cvs/sarah_williams_cv.pdf',
            'created_at': now - timedelta(days=10),
            'updated_at': now - timedelta(days=10),
        },
        {
            'id': uuid.UUID('660e8400-e29b-41d4-a716-446655440004'),
            'name': 'David Kim',
            'email': 'david.kim@example.com',
            'cv_file_path': '/uploads/cvs/david_kim_cv.pdf',
            'created_at': now - timedelta(days=8),
            'updated_at': now - timedelta(days=8),
        },
        {
            'id': uuid.UUID('660e8400-e29b-41d4-a716-446655440005'),
            'name': 'Emily Thompson',
            'email': 'emily.thompson@example.com',
            'cv_file_path': '/uploads/cvs/emily_thompson_cv.pdf',
            'created_at': now - timedelta(days=6),
            'updated_at': now - timedelta(days=6),
        },
        {
            'id': uuid.UUID('660e8400-e29b-41d4-a716-446655440006'),
            'name': 'James Anderson',
            'email': 'james.anderson@example.com',
            'cv_file_path': '/uploads/cvs/james_anderson_cv.pdf',
            'created_at': now - timedelta(days=4),
            'updated_at': now - timedelta(days=4),
        },
        {
            'id': uuid.UUID('660e8400-e29b-41d4-a716-446655440007'),
            'name': 'Lisa Martinez',
            'email': 'lisa.martinez@example.com',
            'cv_file_path': '/uploads/cvs/lisa_martinez_cv.pdf',
            'created_at': now - timedelta(days=2),
            'updated_at': now - timedelta(days=2),
        },
    ])

    print("[OK] Seeded 10 candidates")

    # =============================================
    # SEED DATA - QUESTIONS (41 total: 23 + 18)
    # =============================================
    questions_data = [
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440001'),
            'text': 'What is the difference between var, let, and const in JavaScript?',
            'question_type': 'TECHNICAL',
            'difficulty': 'EASY',
            'skills': ['JavaScript', 'ES6', 'Variables'],
            'tags': ['javascript', 'basics', 'es6'],
            'evaluation_criteria': 'Check understanding of scope, hoisting, and immutability concepts',
            'ideal_answer': 'var is function-scoped and can be redeclared. It is hoisted and initialized as undefined. let and const are block-scoped (ES6) and cannot be redeclared in the same scope. let can be reassigned, while const cannot be reassigned after declaration. const does not make objects/arrays immutable, only prevents reassignment of the binding. Best practice: use const by default, let when reassignment is needed, avoid var. The Temporal Dead Zone (TDZ) prevents accessing let/const before declaration.',
            'rationale': 'Tests fundamental JavaScript knowledge essential for writing modern ES6+ code and avoiding common scoping pitfalls.',
            'version': 1,
            'created_at': now - timedelta(days=60),
            'updated_at': now - timedelta(days=60),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440002'),
            'text': 'Explain what REST API is and its main HTTP methods.',
            'question_type': 'TECHNICAL',
            'difficulty': 'EASY',
            'skills': ['API', 'REST', 'HTTP'],
            'tags': ['api', 'rest', 'http'],
            'evaluation_criteria': 'Evaluate understanding of RESTful principles and HTTP verbs',
            'ideal_answer': 'REST (Representational State Transfer) is an architectural style for designing web services. Key principles: stateless communication, resource-based URLs, standard HTTP methods, JSON/XML data format. Main HTTP methods: GET (retrieve data, idempotent), POST (create resource, not idempotent), PUT (update/replace entire resource, idempotent), PATCH (partial update, not idempotent), DELETE (remove resource, idempotent). REST uses status codes (200 OK, 201 Created, 404 Not Found, 500 Error) and follows uniform interface principles.',
            'rationale': 'Evaluates foundational API design knowledge critical for building and consuming web services.',
            'version': 1,
            'created_at': now - timedelta(days=60),
            'updated_at': now - timedelta(days=60),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440003'),
            'text': 'How does async/await work in JavaScript? Compare it with Promises.',
            'question_type': 'TECHNICAL',
            'difficulty': 'MEDIUM',
            'skills': ['JavaScript', 'Async', 'Promises'],
            'tags': ['javascript', 'async', 'promises'],
            'evaluation_criteria': 'Assess understanding of asynchronous programming',
            'ideal_answer': 'async/await is syntactic sugar built on Promises that makes asynchronous code look synchronous. An async function always returns a Promise. await pauses execution until the Promise resolves/rejects. Comparison: Promises use .then()/.catch() chains which can lead to callback hell. async/await provides cleaner, more readable code with try/catch error handling. Both handle asynchronous operations, but async/await is easier to debug and read. Under the hood, async/await still uses Promises and the event loop. Use Promise.all() for parallel execution with async/await.',
            'rationale': 'Tests understanding of modern JavaScript asynchronous patterns essential for handling async operations effectively.',
            'version': 1,
            'created_at': now - timedelta(days=55),
            'updated_at': now - timedelta(days=55),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440004'),
            'text': 'What is a closure in Python? Provide an example.',
            'question_type': 'TECHNICAL',
            'difficulty': 'MEDIUM',
            'skills': ['Python', 'Closures', 'Functional Programming'],
            'tags': ['python', 'closures', 'functional'],
            'evaluation_criteria': 'Check understanding of lexical scoping and closure mechanics',
            'ideal_answer': 'A closure is a nested function that captures and remembers variables from its enclosing (outer) scope even after the outer function has finished executing. It combines a function with its lexical environment. Example: def outer(x): def inner(y): return x + y; return inner. When outer(10) is called, it returns inner which "remembers" x=10. Closures are useful for: data privacy, function factories, decorators, and maintaining state. They enable functional programming patterns in Python.',
            'rationale': 'Evaluates understanding of Python\'s scoping rules and functional programming concepts used in advanced patterns.',
            'version': 1,
            'created_at': now - timedelta(days=58),
            'updated_at': now - timedelta(days=58),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440005'),
            'text': 'Describe the difference between list comprehension and generator expressions in Python.',
            'question_type': 'TECHNICAL',
            'difficulty': 'EASY',
            'skills': ['Python', 'List Comprehension', 'Generators'],
            'tags': ['python', 'list-comprehension', 'generators'],
            'evaluation_criteria': 'Evaluate understanding of memory efficiency and iteration patterns',
            'ideal_answer': 'List comprehension [x*2 for x in range(10)] creates a list immediately, storing all values in memory. Generator expression (x*2 for x in range(10)) creates an iterator that generates values lazily on-demand, using minimal memory. Differences: list comprehension uses square brackets [], generator uses parentheses (). List comprehension returns a list, generator returns a generator object. Use list comprehension when you need the full list or multiple iterations. Use generators for large datasets, one-time iteration, or memory-constrained scenarios. Generators are more memory-efficient but can only be iterated once.',
            'rationale': 'Tests understanding of Python iteration patterns and memory optimization techniques important for handling large datasets.',
            'version': 1,
            'created_at': now - timedelta(days=57),
            'updated_at': now - timedelta(days=57),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440006'),
            'text': 'What is the difference between SQL JOIN types: INNER, LEFT, RIGHT, and FULL OUTER?',
            'question_type': 'TECHNICAL',
            'difficulty': 'MEDIUM',
            'skills': ['SQL', 'Database', 'JOIN'],
            'tags': ['sql', 'database', 'join'],
            'evaluation_criteria': 'Assess knowledge of SQL JOIN operations and their use cases',
            'ideal_answer': 'INNER JOIN returns only matching rows from both tables. LEFT JOIN returns all rows from left table plus matching rows from right (NULL for non-matching). RIGHT JOIN returns all rows from right table plus matching rows from left (NULL for non-matching). FULL OUTER JOIN returns all rows from both tables, with NULLs where no match exists. Use INNER JOIN for strict relationships. Use LEFT/RIGHT JOIN when you need all records from one side. Use FULL OUTER JOIN to see all data from both tables. LEFT JOIN is most common in practice.',
            'rationale': 'Evaluates essential SQL knowledge for querying relational databases and understanding data relationships.',
            'version': 1,
            'created_at': now - timedelta(days=56),
            'updated_at': now - timedelta(days=56),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440007'),
            'text': 'Explain what is a React Hook and name three common hooks you have used.',
            'question_type': 'TECHNICAL',
            'difficulty': 'EASY',
            'skills': ['React', 'Hooks', 'Frontend'],
            'tags': ['react', 'hooks', 'frontend'],
            'evaluation_criteria': 'Evaluate understanding of React Hooks and their practical application',
            'ideal_answer': 'React Hooks are functions that let you use state and lifecycle features in functional components. They enable functional components to have stateful logic without class components. Common hooks: 1) useState - manages component state, 2) useEffect - handles side effects (API calls, subscriptions, DOM manipulation), 3) useContext - accesses React context values. Other important hooks: useMemo (memoize expensive calculations), useCallback (memoize functions), useRef (access DOM or persist values). Hooks follow rules: only call at top level, only in React functions. They make code more reusable and easier to test.',
            'rationale': 'Tests fundamental React knowledge essential for modern React development and functional component patterns.',
            'version': 1,
            'created_at': now - timedelta(days=54),
            'updated_at': now - timedelta(days=54),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440008'),
            'text': 'How would you design a system to handle 1 million requests per second?',
            'question_type': 'TECHNICAL',
            'difficulty': 'HARD',
            'skills': ['System Design', 'Scalability', 'Architecture'],
            'tags': ['system-design', 'scalability', 'architecture'],
            'evaluation_criteria': 'Assess system design thinking, scalability patterns, and trade-off considerations',
            'ideal_answer': 'Design horizontally scalable architecture: 1) Load balancers (multiple layers) distribute traffic, 2) Application servers (stateless, auto-scaling groups), 3) Caching layers (Redis cluster for hot data, CDN for static content), 4) Database (sharding, read replicas, connection pooling), 5) Message queues (Kafka/RabbitMQ) for async processing, 6) Rate limiting and circuit breakers, 7) Monitoring and distributed tracing. Key principles: horizontal scaling, caching at multiple layers, database optimization, async processing, fault tolerance. Estimate: ~10,000 servers needed (100 req/s per server). Consider geographic distribution, data consistency requirements, and cost optimization.',
            'rationale': 'Evaluates system design skills and ability to architect scalable systems handling high traffic loads.',
            'version': 1,
            'created_at': now - timedelta(days=52),
            'updated_at': now - timedelta(days=52),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440009'),
            'text': 'What is the difference between process and thread? When would you use each?',
            'question_type': 'TECHNICAL',
            'difficulty': 'MEDIUM',
            'skills': ['Operating Systems', 'Concurrency', 'Threading'],
            'tags': ['operating-systems', 'concurrency', 'threading'],
            'evaluation_criteria': 'Evaluate understanding of concurrency models and their trade-offs',
            'ideal_answer': 'A process is an independent program execution unit with its own memory space, isolated from other processes. A thread is a lightweight execution unit within a process, sharing memory space with other threads in the same process. Differences: processes have separate memory (isolated), threads share memory (need synchronization). Process creation is heavier, thread creation is lighter. Process failure doesn\'t affect others, thread failure can crash the process. Use processes for: isolation, security, independent tasks, CPU-bound parallel processing. Use threads for: shared data access, I/O-bound tasks, lightweight concurrency, faster communication.',
            'rationale': 'Tests understanding of concurrency fundamentals essential for building efficient multi-threaded and multi-process applications.',
            'version': 1,
            'created_at': now - timedelta(days=51),
            'updated_at': now - timedelta(days=51),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440010'),
            'text': 'Explain the SOLID principles in object-oriented programming.',
            'question_type': 'TECHNICAL',
            'difficulty': 'MEDIUM',
            'skills': ['OOP', 'Design Patterns', 'SOLID'],
            'tags': ['oop', 'design-patterns', 'solid'],
            'evaluation_criteria': 'Check understanding of OOP principles and their practical application',
            'ideal_answer': 'SOLID principles guide object-oriented design: S - Single Responsibility (class should have one reason to change, one responsibility), O - Open/Closed (open for extension, closed for modification, use inheritance/interfaces), L - Liskov Substitution (derived classes must be substitutable for base classes without breaking functionality), I - Interface Segregation (clients shouldn\'t depend on interfaces they don\'t use, prefer specific interfaces), D - Dependency Inversion (depend on abstractions, not concretions, high-level modules shouldn\'t depend on low-level). These principles promote maintainable, flexible, and testable code.',
            'rationale': 'Evaluates understanding of fundamental OOP design principles essential for writing maintainable and scalable code.',
            'version': 1,
            'created_at': now - timedelta(days=50),
            'updated_at': now - timedelta(days=50),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440011'),
            'text': 'What is Docker and how does it differ from a virtual machine?',
            'question_type': 'TECHNICAL',
            'difficulty': 'EASY',
            'skills': ['Docker', 'Containers', 'DevOps'],
            'tags': ['docker', 'containers', 'devops'],
            'evaluation_criteria': 'Assess understanding of containerization vs virtualization',
            'ideal_answer': 'Docker is a containerization platform that packages applications with dependencies into lightweight, portable containers. Differences: VMs virtualize hardware (full OS, hypervisor, heavy ~GBs), containers virtualize OS (share host kernel, lightweight ~MBs). VMs have slower startup (minutes), containers start in seconds. VMs provide stronger isolation, containers share kernel (less isolation). VMs use more resources, containers are resource-efficient. VMs are better for different OS requirements, containers are better for microservices, CI/CD, and consistent environments. Docker uses images (templates) to create containers (running instances).',
            'rationale': 'Tests understanding of modern deployment technologies and containerization concepts essential for DevOps practices.',
            'version': 1,
            'created_at': now - timedelta(days=49),
            'updated_at': now - timedelta(days=49),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440012'),
            'text': 'Explain the difference between time complexity and space complexity with examples.',
            'question_type': 'TECHNICAL',
            'difficulty': 'MEDIUM',
            'skills': ['Algorithms', 'Big O', 'Complexity Analysis'],
            'tags': ['algorithms', 'big-o', 'complexity'],
            'evaluation_criteria': 'Evaluate algorithmic thinking and complexity analysis skills',
            'ideal_answer': 'Time complexity measures how execution time grows with input size (e.g., O(n) linear, O(n²) quadratic, O(log n) logarithmic). Space complexity measures how memory usage grows with input size. Examples: Linear search is O(n) time, O(1) space. Binary search is O(log n) time, O(1) space. Merge sort is O(n log n) time, O(n) space. Bubble sort is O(n²) time, O(1) space. Trade-offs: sometimes optimize time at expense of space (caching) or vice versa (streaming). Big O notation describes worst-case asymptotic behavior. Consider both when choosing algorithms.',
            'rationale': 'Evaluates algorithmic analysis skills essential for writing efficient code and making informed algorithm choices.',
            'version': 1,
            'created_at': now - timedelta(days=48),
            'updated_at': now - timedelta(days=48),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440013'),
            'text': 'What is the difference between REST and GraphQL? When would you choose one over the other?',
            'question_type': 'TECHNICAL',
            'difficulty': 'MEDIUM',
            'skills': ['API', 'REST', 'GraphQL'],
            'tags': ['api', 'rest', 'graphql'],
            'evaluation_criteria': 'Assess understanding of API design patterns and trade-offs',
            'ideal_answer': 'REST uses multiple endpoints (resources), fixed responses, HTTP methods (GET/POST/PUT/DELETE), and may over/under-fetch data. GraphQL uses single endpoint, flexible queries (client specifies needed fields), single POST request, and fetches exactly what\'s needed. REST is simpler, cacheable (HTTP), mature ecosystem. GraphQL reduces over-fetching, enables rapid frontend iteration, strong typing. Choose REST for: simple CRUD, caching needs, established patterns, microservices. Choose GraphQL for: complex data relationships, mobile apps (bandwidth), rapid prototyping, when clients need different data shapes. Consider team expertise and infrastructure.',
            'rationale': 'Tests understanding of modern API design patterns and ability to make informed technology choices based on requirements.',
            'version': 1,
            'created_at': now - timedelta(days=47),
            'updated_at': now - timedelta(days=47),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440014'),
            'text': 'Describe how Node.js handles asynchronous operations. What is the event loop?',
            'question_type': 'TECHNICAL',
            'difficulty': 'HARD',
            'skills': ['Node.js', 'Event Loop', 'Asynchronous'],
            'tags': ['nodejs', 'event-loop', 'async'],
            'evaluation_criteria': 'Evaluate deep understanding of Node.js internals and asynchronous execution',
            'ideal_answer': 'Node.js uses an event-driven, non-blocking I/O model with a single-threaded event loop. The event loop continuously checks: 1) Call stack (synchronous code), 2) Callback queue (async callbacks), 3) Microtask queue (Promises, queueMicrotask). When stack is empty, event loop moves callbacks to stack. Phases: timers (setTimeout/setInterval), pending callbacks, poll (I/O), check (setImmediate), close callbacks. Microtasks have priority over regular callbacks. This allows Node.js to handle thousands of concurrent connections efficiently despite being single-threaded. Use worker threads for CPU-intensive tasks to avoid blocking the event loop.',
            'rationale': 'Evaluates deep understanding of Node.js runtime internals critical for writing efficient, non-blocking code and debugging async issues.',
            'version': 1,
            'created_at': now - timedelta(days=46),
            'updated_at': now - timedelta(days=46),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440015'),
            'text': 'What is unit testing and why is it important? Name a testing framework you have used.',
            'question_type': 'TECHNICAL',
            'difficulty': 'EASY',
            'skills': ['Testing', 'Unit Testing', 'QA'],
            'tags': ['testing', 'unit-testing', 'qa'],
            'evaluation_criteria': 'Check understanding of testing principles and practical experience',
            'ideal_answer': 'Unit testing tests individual functions/components in isolation with mocked dependencies. Importance: catches bugs early, enables refactoring with confidence, documents expected behavior, improves code design (testability), reduces debugging time, supports continuous integration. Frameworks: Jest (JavaScript), pytest (Python), JUnit (Java), Mocha/Chai (JavaScript), unittest (Python). Good unit tests are: fast, isolated, repeatable, self-validating, timely (written before/during development). Follow AAA pattern: Arrange (setup), Act (execute), Assert (verify).',
            'rationale': 'Tests understanding of software quality practices essential for building reliable, maintainable applications.',
            'version': 1,
            'created_at': now - timedelta(days=45),
            'updated_at': now - timedelta(days=45),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440016'),
            'text': 'Tell me about a time when you had to work under pressure to meet a deadline.',
            'question_type': 'BEHAVIORAL',
            'difficulty': 'MEDIUM',
            'skills': ['Time Management', 'Stress Management', 'Communication'],
            'tags': ['behavioral', 'deadlines', 'pressure'],
            'evaluation_criteria': 'Assess ability to handle pressure, prioritize tasks, and communicate effectively under stress',
            'ideal_answer': 'Use STAR method: Situation - describe tight deadline context (e.g., production bug, client demo). Task - explain what needed to be accomplished and constraints. Action - detail approach: break down work, prioritize critical path, communicate with stakeholders about risks/timeline, focus on MVP, eliminate distractions, ask for help if needed, maintain code quality standards. Result - outcome: deadline met, lessons learned, process improvements. Show resilience, systematic thinking, and ability to maintain quality under pressure. Avoid working excessive hours as primary solution.',
            'rationale': 'Evaluates stress management, prioritization skills, and ability to deliver quality work under pressure - critical for real-world development.',
            'version': 1,
            'created_at': now - timedelta(days=44),
            'updated_at': now - timedelta(days=44),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440017'),
            'text': 'Describe a situation where you had to learn a new technology quickly for a project.',
            'question_type': 'BEHAVIORAL',
            'difficulty': 'EASY',
            'skills': ['Learning', 'Adaptability', 'Problem Solving'],
            'tags': ['behavioral', 'learning', 'adaptability'],
            'evaluation_criteria': 'Evaluate learning agility, initiative, and ability to adapt to new technologies',
            'ideal_answer': 'Use STAR method: Situation - project requiring unfamiliar technology (e.g., new framework, language, tool). Task - learn enough to be productive quickly. Action - learning strategy: official documentation, tutorials, hands-on practice (build small projects), code examples, community resources (Stack Overflow, forums), pair programming with experienced developers, focused learning (core concepts first). Result - became productive within timeframe, delivered feature, continued learning. Show self-directed learning, systematic approach, and ability to apply knowledge practically. Demonstrate growth mindset.',
            'rationale': 'Assesses learning agility and adaptability - essential traits for developers in rapidly evolving technology landscape.',
            'version': 1,
            'created_at': now - timedelta(days=43),
            'updated_at': now - timedelta(days=43),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440018'),
            'text': 'Give an example of a time when you disagreed with a team member. How did you resolve it?',
            'question_type': 'BEHAVIORAL',
            'difficulty': 'MEDIUM',
            'skills': ['Conflict Resolution', 'Teamwork', 'Communication'],
            'tags': ['behavioral', 'conflict', 'teamwork'],
            'evaluation_criteria': 'Assess conflict resolution skills and ability to work collaboratively',
            'ideal_answer': 'Use STAR method: Situation - describe disagreement objectively (technical approach, design decision, process). Task - resolve conflict while maintaining team harmony and project progress. Action - approach: listen actively to understand their perspective, present your viewpoint with evidence/data, find common ground, propose compromise or alternative solution, involve team lead if needed, focus on problem not person, maintain professionalism. Result - reached agreement, relationship maintained/improved, project benefited. Show emotional intelligence, communication skills, and focus on team success over being right.',
            'rationale': 'Evaluates interpersonal skills and ability to navigate workplace conflicts constructively - essential for collaborative development.',
            'version': 1,
            'created_at': now - timedelta(days=42),
            'updated_at': now - timedelta(days=42),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440019'),
            'text': 'What is your biggest weakness as a developer, and how are you working to improve it?',
            'question_type': 'BEHAVIORAL',
            'difficulty': 'MEDIUM',
            'skills': ['Self-Awareness', 'Growth Mindset', 'Honesty'],
            'tags': ['behavioral', 'self-reflection', 'growth'],
            'evaluation_criteria': 'Evaluate self-awareness, growth mindset, and honesty',
            'ideal_answer': 'Be honest but strategic: choose a real weakness that\'s not critical for the role, show self-awareness, and demonstrate active improvement. Example: "I tend to dive deep into technical details and sometimes need to step back for the bigger picture. I\'m improving by: setting time limits for research, asking for feedback on communication, focusing on business impact. I\'ve seen progress in my recent projects where I balanced depth with delivery." Avoid: saying you have no weaknesses, mentioning critical skills gaps, or weaknesses you\'re not addressing. Show growth mindset and commitment to continuous improvement.',
            'rationale': 'Tests self-awareness, honesty, and growth mindset - indicators of mature professional development and coachability.',
            'version': 1,
            'created_at': now - timedelta(days=41),
            'updated_at': now - timedelta(days=41),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440020'),
            'text': 'If you discovered a critical bug in production right before a major release, what would you do?',
            'question_type': 'SITUATIONAL',
            'difficulty': 'MEDIUM',
            'skills': ['Problem Solving', 'Risk Management', 'Decision Making'],
            'tags': ['situational', 'bug', 'production'],
            'evaluation_criteria': 'Check ability to make decisions under pressure while considering business and technical implications',
            'ideal_answer': 'Immediate steps: 1) Assess severity and impact (data loss, security, user experience), 2) Document the bug clearly, 3) Notify team lead/manager immediately, 4) Evaluate options: fix now (if quick), delay release (if critical), release with known issue (if low impact with workaround). Decision factors: bug severity, fix complexity, release importance, user impact, business cost. Process: communicate transparently with stakeholders, work with team on fix, test thoroughly, deploy fix or delay release, conduct post-mortem. Show: quick assessment, clear communication, risk evaluation, team collaboration, focus on user/business impact over personal reputation.',
            'rationale': 'Evaluates crisis management, decision-making under pressure, and ability to balance technical and business considerations.',
            'version': 1,
            'created_at': now - timedelta(days=40),
            'updated_at': now - timedelta(days=40),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440021'),
            'text': 'You have limited time to complete a feature. How do you decide what to prioritize?',
            'question_type': 'SITUATIONAL',
            'difficulty': 'EASY',
            'skills': ['Prioritization', 'Time Management', 'Analytical Thinking'],
            'tags': ['situational', 'prioritization', 'time-management'],
            'evaluation_criteria': 'Assess prioritization skills and ability to make trade-off decisions',
            'ideal_answer': 'Prioritization framework: 1) Understand requirements (must-have vs nice-to-have), 2) Evaluate factors: business value, user impact, dependencies, risks, effort vs value, 3) Use frameworks: MoSCoW (Must/Should/Could/Won\'t), Eisenhower Matrix (urgent/important), value vs effort matrix, 4) Break into smaller tasks, 5) Focus on MVP/core functionality first, 6) Communicate with stakeholders about scope/timeline, 7) Negotiate if needed, 8) Document trade-offs. Show: systematic thinking, stakeholder awareness, ability to make informed decisions, transparency about limitations. Avoid: trying to do everything, not communicating constraints.',
            'rationale': 'Tests prioritization and time management skills essential for delivering value under constraints.',
            'version': 1,
            'created_at': now - timedelta(days=39),
            'updated_at': now - timedelta(days=39),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440022'),
            'text': 'How would you handle a situation where a client requests a feature that conflicts with your technical recommendations?',
            'question_type': 'SITUATIONAL',
            'difficulty': 'HARD',
            'skills': ['Client Communication', 'Technical Leadership', 'Negotiation'],
            'tags': ['situational', 'client-management', 'leadership'],
            'evaluation_criteria': 'Evaluate communication skills, technical credibility, and ability to navigate stakeholder relationships',
            'ideal_answer': 'Approach: 1) Understand client\'s underlying need (why they want this), 2) Listen actively and acknowledge their perspective, 3) Explain technical concerns clearly (security, maintainability, scalability, cost) with concrete examples, 4) Propose alternatives that meet their needs while addressing technical concerns, 5) Present trade-offs (pros/cons of each approach), 6) Use data/evidence to support recommendations, 7) Find compromise if possible, 8) Escalate to manager if critical, 9) Document decision and rationale. Show: respect for client, technical expertise, communication skills, problem-solving, ability to balance business and technical needs. Avoid: being dismissive, using jargon, refusing without explanation.',
            'rationale': 'Evaluates technical leadership, stakeholder management, and ability to navigate complex business-technical conflicts.',
            'version': 1,
            'created_at': now - timedelta(days=38),
            'updated_at': now - timedelta(days=38),
        },
        {
            'id': uuid.UUID('650e8400-e29b-41d4-a716-446655440023'),
            'text': 'Explain what is garbage collection in Java and how it works.',
            'question_type': 'TECHNICAL',
            'difficulty': 'MEDIUM',
            'skills': ['Java', 'Memory Management', 'JVM'],
            'tags': ['java', 'memory-management', 'jvm'],
            'evaluation_criteria': 'Assess understanding of memory management and JVM internals',
            'ideal_answer': 'Garbage collection automatically manages memory by reclaiming objects no longer referenced. Java uses generational GC: objects start in Young Generation (Eden space), survive collections move to Survivor spaces, long-lived objects move to Old Generation. GC algorithms: Serial (single-threaded), Parallel (multi-threaded), G1 (low-latency, large heaps), ZGC (ultra-low latency). GC pauses application execution (stop-the-world). Tuning: adjust heap size, choose GC algorithm based on latency/throughput needs, monitor GC logs. Benefits: prevents memory leaks, automatic memory management. Trade-offs: unpredictable pauses, overhead. Understanding GC helps optimize Java application performance.',
            'rationale': 'Tests understanding of JVM internals and memory management essential for optimizing Java application performance.',
            'version': 1,
            'created_at': now - timedelta(days=37),
            'updated_at': now - timedelta(days=37),
        },
        {
            'id': uuid.UUID('760e8400-e29b-41d4-a716-446655440001'),
            'text': 'Explain the concept of dependency injection and its benefits in software design.',
            'question_type': 'TECHNICAL',
            'difficulty': 'MEDIUM',
            'skills': ['Design Patterns', 'OOP', 'Software Architecture'],
            'tags': ['dependency-injection', 'design-patterns', 'architecture'],
            'evaluation_criteria': 'Assess understanding of DI principles, inversion of control, and practical benefits like testability and loose coupling.',
            'ideal_answer': 'Dependency injection is a design pattern where objects receive their dependencies from external sources rather than creating them internally. Benefits include: improved testability (easy to mock dependencies), loose coupling (components depend on abstractions), better separation of concerns, and easier maintenance. Common implementations include constructor injection, setter injection, and interface injection. This pattern follows the Dependency Inversion Principle from SOLID principles.',
            'rationale': 'Tests understanding of fundamental design patterns and their practical application in building maintainable software systems.',
            'version': 1,
            'created_at': now - timedelta(days=40),
            'updated_at': now - timedelta(days=40),
        },
        {
            'id': uuid.UUID('760e8400-e29b-41d4-a716-446655440002'),
            'text': 'What is the difference between microservices and monolithic architecture? When would you choose each?',
            'question_type': 'TECHNICAL',
            'difficulty': 'HARD',
            'skills': ['System Design', 'Architecture', 'Microservices'],
            'tags': ['microservices', 'architecture', 'system-design'],
            'evaluation_criteria': 'Evaluate understanding of architectural patterns, trade-offs, and decision-making criteria.',
            'ideal_answer': 'Monolithic architecture has all components in a single deployable unit, while microservices split functionality into independent, loosely coupled services. Monoliths are simpler to develop, test, and deploy initially, but harder to scale and maintain at large scale. Microservices offer independent scaling, technology diversity, and fault isolation, but add complexity in deployment, monitoring, and inter-service communication. Choose monolith for small teams, simple applications, or when starting. Choose microservices for large teams, complex domains, or when you need independent scaling of components.',
            'rationale': 'Assesses system design thinking and ability to make architectural decisions based on context and requirements.',
            'version': 1,
            'created_at': now - timedelta(days=38),
            'updated_at': now - timedelta(days=38),
        },
        {
            'id': uuid.UUID('760e8400-e29b-41d4-a716-446655440003'),
            'text': 'How does a hash table work internally? Explain collision resolution strategies.',
            'question_type': 'TECHNICAL',
            'difficulty': 'MEDIUM',
            'skills': ['Data Structures', 'Algorithms', 'Hash Tables'],
            'tags': ['data-structures', 'hash-tables', 'algorithms'],
            'evaluation_criteria': 'Check understanding of hash table internals, hash functions, and collision handling mechanisms.',
            'ideal_answer': 'A hash table uses a hash function to map keys to array indices. When inserting, the hash function computes an index, and the value is stored at that position. Collisions occur when different keys hash to the same index. Resolution strategies include: 1) Chaining - store multiple items in a linked list at each bucket, 2) Open addressing - find next available slot using linear probing, quadratic probing, or double hashing. Chaining is simpler but uses extra memory. Open addressing is more memory-efficient but can degrade performance with high load factors.',
            'rationale': 'Tests fundamental data structure knowledge essential for understanding performance characteristics and algorithm design.',
            'version': 1,
            'created_at': now - timedelta(days=36),
            'updated_at': now - timedelta(days=36),
        },
        {
            'id': uuid.UUID('760e8400-e29b-41d4-a716-446655440004'),
            'text': 'Describe how you would implement authentication and authorization in a web application.',
            'question_type': 'TECHNICAL',
            'difficulty': 'MEDIUM',
            'skills': ['Security', 'Authentication', 'Authorization', 'Web Development'],
            'tags': ['security', 'authentication', 'authorization', 'web'],
            'evaluation_criteria': 'Assess knowledge of security best practices, token-based authentication, and authorization patterns.',
            'ideal_answer': 'Authentication verifies user identity (who you are), while authorization determines permissions (what you can do). Implementation: 1) User registration/login with password hashing (bcrypt/argon2), 2) JWT tokens or session-based auth, 3) Store tokens securely (httpOnly cookies or localStorage with CSRF protection), 4) Implement role-based access control (RBAC) or attribute-based (ABAC), 5) Use middleware to protect routes, 6) Implement refresh tokens for security, 7) Add rate limiting and account lockout. Best practices: never store passwords in plain text, use HTTPS, implement proper session management, and follow OWASP guidelines.',
            'rationale': 'Evaluates critical security knowledge essential for building secure applications.',
            'version': 1,
            'created_at': now - timedelta(days=34),
            'updated_at': now - timedelta(days=34),
        },
        {
            'id': uuid.UUID('760e8400-e29b-41d4-a716-446655440005'),
            'text': 'What is the CAP theorem? Explain each component and provide examples.',
            'question_type': 'TECHNICAL',
            'difficulty': 'HARD',
            'skills': ['Distributed Systems', 'Database', 'System Design'],
            'tags': ['cap-theorem', 'distributed-systems', 'database'],
            'evaluation_criteria': 'Evaluate understanding of distributed system trade-offs and real-world system characteristics.',
            'ideal_answer': 'CAP theorem states that in a distributed system, you can only guarantee two out of three: Consistency (all nodes see same data simultaneously), Availability (system remains operational), Partition tolerance (system continues despite network failures). Examples: CP systems (like MongoDB, HBase) prioritize consistency and partition tolerance, sacrificing availability during partitions. AP systems (like Cassandra, DynamoDB) prioritize availability and partition tolerance, allowing eventual consistency. CA systems (traditional RDBMS) prioritize consistency and availability but don\'t handle network partitions well. In practice, partition tolerance is unavoidable in distributed systems, so the choice is between C and A.',
            'rationale': 'Tests understanding of fundamental distributed systems principles and their practical implications.',
            'version': 1,
            'created_at': now - timedelta(days=32),
            'updated_at': now - timedelta(days=32),
        },
        {
            'id': uuid.UUID('760e8400-e29b-41d4-a716-446655440006'),
            'text': 'Explain the difference between SQL and NoSQL databases. When would you use each?',
            'question_type': 'TECHNICAL',
            'difficulty': 'MEDIUM',
            'skills': ['Database', 'SQL', 'NoSQL', 'Data Modeling'],
            'tags': ['database', 'sql', 'nosql', 'data-modeling'],
            'evaluation_criteria': 'Assess understanding of database types, their characteristics, and appropriate use cases.',
            'ideal_answer': 'SQL databases are relational, use structured schemas, support ACID transactions, and use SQL for queries. They excel at complex queries, data integrity, and structured data. Examples: PostgreSQL, MySQL. NoSQL databases are non-relational, schema-flexible, often prioritize performance and scalability, and use various data models (document, key-value, column, graph). They excel at horizontal scaling, unstructured data, and high write throughput. Examples: MongoDB, Redis, Cassandra. Use SQL for: complex queries, transactions, structured data, data integrity requirements. Use NoSQL for: high scalability needs, flexible schemas, large volumes of unstructured data, rapid development.',
            'rationale': 'Evaluates database selection knowledge crucial for making appropriate technology choices.',
            'version': 1,
            'created_at': now - timedelta(days=30),
            'updated_at': now - timedelta(days=30),
        },
        {
            'id': uuid.UUID('760e8400-e29b-41d4-a716-446655440007'),
            'text': 'What is the difference between unit testing, integration testing, and end-to-end testing?',
            'question_type': 'TECHNICAL',
            'difficulty': 'EASY',
            'skills': ['Testing', 'QA', 'Software Engineering'],
            'tags': ['testing', 'unit-testing', 'integration-testing', 'e2e'],
            'evaluation_criteria': 'Check understanding of testing pyramid and different testing levels.',
            'ideal_answer': 'Unit testing tests individual components in isolation (functions, classes) with mocked dependencies. Fast, numerous, catch bugs early. Integration testing verifies interactions between components (database, APIs, services). Slower, fewer tests, catch integration issues. End-to-end testing tests complete user workflows through the entire system. Slowest, fewest tests, catch system-level issues. The testing pyramid suggests many unit tests, fewer integration tests, and minimal E2E tests. Each level serves different purposes and catches different types of bugs.',
            'rationale': 'Assesses testing knowledge essential for building reliable software.',
            'version': 1,
            'created_at': now - timedelta(days=28),
            'updated_at': now - timedelta(days=28),
        },
        {
            'id': uuid.UUID('760e8400-e29b-41d4-a716-446655440008'),
            'text': 'How does garbage collection work in Python? Explain the reference counting and generational GC.',
            'question_type': 'TECHNICAL',
            'difficulty': 'MEDIUM',
            'skills': ['Python', 'Memory Management', 'Garbage Collection'],
            'tags': ['python', 'memory-management', 'garbage-collection'],
            'evaluation_criteria': 'Evaluate understanding of Python internals and memory management.',
            'ideal_answer': 'Python uses a combination of reference counting and generational garbage collection. Reference counting immediately deallocates objects when reference count reaches zero, but cannot handle circular references. Generational GC (gc module) handles circular references by tracking objects in generations (0, 1, 2). New objects start in generation 0. Objects that survive GC move to older generations. GC runs more frequently on younger generations. This approach optimizes for the fact that most objects die young. The gc.collect() can manually trigger collection, but Python handles it automatically.',
            'rationale': 'Tests understanding of language internals important for performance optimization and debugging.',
            'version': 1,
            'created_at': now - timedelta(days=26),
            'updated_at': now - timedelta(days=26),
        },
        {
            'id': uuid.UUID('760e8400-e29b-41d4-a716-446655440009'),
            'text': 'What is the event loop in JavaScript? How does it handle asynchronous operations?',
            'question_type': 'TECHNICAL',
            'difficulty': 'HARD',
            'skills': ['JavaScript', 'Event Loop', 'Asynchronous Programming'],
            'tags': ['javascript', 'event-loop', 'async', 'nodejs'],
            'evaluation_criteria': 'Assess deep understanding of JavaScript runtime and asynchronous execution model.',
            'ideal_answer': 'The event loop is JavaScript\'s mechanism for handling asynchronous operations. It continuously checks the call stack and task queues. When the call stack is empty, it moves tasks from queues to the stack. Queues include: Callback Queue (for setTimeout, DOM events), Microtask Queue (for Promises, queueMicrotask), and Job Queue (for async/await). Microtasks have higher priority than regular callbacks. The event loop processes all microtasks before moving to the next callback. This single-threaded model allows non-blocking I/O operations. Understanding this is crucial for debugging async code and avoiding common pitfalls.',
            'rationale': 'Evaluates critical JavaScript knowledge for understanding async behavior and performance.',
            'version': 1,
            'created_at': now - timedelta(days=24),
            'updated_at': now - timedelta(days=24),
        },
        {
            'id': uuid.UUID('760e8400-e29b-41d4-a716-446655440010'),
            'text': 'Explain the concept of database indexing. How does it improve query performance?',
            'question_type': 'TECHNICAL',
            'difficulty': 'MEDIUM',
            'skills': ['Database', 'SQL', 'Performance Optimization'],
            'tags': ['database', 'indexing', 'performance', 'sql'],
            'evaluation_criteria': 'Check understanding of indexing mechanisms and their impact on database performance.',
            'ideal_answer': 'Database indexing creates data structures (like B-trees) that allow faster data retrieval. Instead of scanning entire tables (full table scan), indexes provide direct access paths to data. Benefits: faster SELECT queries, faster JOINs, faster WHERE clause filtering, faster ORDER BY operations. Trade-offs: indexes consume storage space, slow down INSERT/UPDATE/DELETE operations (indexes must be maintained), and require maintenance. Common index types: B-tree (default, good for range queries), Hash (exact matches), Bitmap (low cardinality). Best practices: index frequently queried columns, foreign keys, columns in WHERE clauses, but avoid over-indexing.',
            'rationale': 'Tests database optimization knowledge essential for building performant applications.',
            'version': 1,
            'created_at': now - timedelta(days=22),
            'updated_at': now - timedelta(days=22),
        },
        {
            'id': uuid.UUID('760e8400-e29b-41d4-a716-446655440011'),
            'text': 'Tell me about a time when you had to learn a new technology or framework quickly for a project. How did you approach it?',
            'question_type': 'BEHAVIORAL',
            'difficulty': 'EASY',
            'skills': ['Learning', 'Adaptability', 'Problem Solving'],
            'tags': ['behavioral', 'learning', 'adaptability'],
            'evaluation_criteria': 'Assess learning agility, resource utilization, and ability to apply new knowledge effectively.',
            'ideal_answer': 'Use STAR method: Situation - describe the project context and technology needed. Task - explain what needed to be learned and why. Action - detail learning approach: official documentation, tutorials, hands-on practice, code examples, community resources, pair programming. Result - describe successful implementation, time taken, and lessons learned. Show self-directed learning, systematic approach, and ability to apply knowledge quickly.',
            'rationale': 'Evaluates learning agility and adaptability, crucial traits for software developers in a rapidly evolving field.',
            'version': 1,
            'created_at': now - timedelta(days=20),
            'updated_at': now - timedelta(days=20),
        },
        {
            'id': uuid.UUID('760e8400-e29b-41d4-a716-446655440012'),
            'text': 'Describe a situation where you had to work with a difficult team member. How did you handle it?',
            'question_type': 'BEHAVIORAL',
            'difficulty': 'MEDIUM',
            'skills': ['Communication', 'Teamwork', 'Conflict Resolution'],
            'tags': ['behavioral', 'teamwork', 'conflict'],
            'evaluation_criteria': 'Evaluate emotional intelligence, communication skills, and collaborative problem-solving approach.',
            'ideal_answer': 'Use STAR method. Situation: describe the conflict objectively. Task: explain the challenge and impact on team/project. Action: detail approach - active listening, understanding their perspective, clear communication, finding common ground, involving manager if needed, focusing on solutions not blame. Result: resolution achieved, relationship improved, project success. Show empathy, professionalism, and focus on team success.',
            'rationale': 'Assesses interpersonal skills and ability to navigate workplace conflicts constructively.',
            'version': 1,
            'created_at': now - timedelta(days=18),
            'updated_at': now - timedelta(days=18),
        },
        {
            'id': uuid.UUID('760e8400-e29b-41d4-a716-446655440013'),
            'text': 'Give an example of a time when you made a mistake in your code that caused a production issue. How did you handle it?',
            'question_type': 'BEHAVIORAL',
            'difficulty': 'MEDIUM',
            'skills': ['Accountability', 'Problem Solving', 'Learning from Mistakes'],
            'tags': ['behavioral', 'mistakes', 'accountability'],
            'evaluation_criteria': 'Check honesty, accountability, problem-solving under pressure, and learning from mistakes.',
            'ideal_answer': 'Use STAR method. Situation: describe the mistake and its impact honestly. Task: explain the urgency and what needed to be fixed. Action: immediate response (acknowledge mistake, assess impact, communicate to team, fix the issue, deploy hotfix, monitor), post-mortem analysis, implement preventive measures (tests, code review, monitoring). Result: issue resolved, lessons learned, process improvements. Show accountability, quick problem-solving, and focus on prevention.',
            'rationale': 'Evaluates accountability, crisis management, and ability to learn from failures.',
            'version': 1,
            'created_at': now - timedelta(days=16),
            'updated_at': now - timedelta(days=16),
        },
        {
            'id': uuid.UUID('760e8400-e29b-41d4-a716-446655440014'),
            'text': 'How do you prioritize tasks when you have multiple urgent deadlines?',
            'question_type': 'SITUATIONAL',
            'difficulty': 'EASY',
            'skills': ['Prioritization', 'Time Management', 'Decision Making'],
            'tags': ['situational', 'prioritization', 'time-management'],
            'evaluation_criteria': 'Assess prioritization skills and ability to make trade-off decisions under pressure.',
            'ideal_answer': 'Evaluate factors: business impact, dependencies, urgency vs importance, stakeholder needs, resource availability. Use frameworks like Eisenhower Matrix (urgent/important), communicate with stakeholders about priorities, negotiate deadlines if needed, break down tasks, focus on high-value work first. Be transparent about trade-offs and seek help when overwhelmed. Show systematic thinking and stakeholder management.',
            'rationale': 'Tests decision-making and time management skills essential for handling competing priorities.',
            'version': 1,
            'created_at': now - timedelta(days=14),
            'updated_at': now - timedelta(days=14),
        },
        {
            'id': uuid.UUID('760e8400-e29b-41d4-a716-446655440015'),
            'text': 'If you discovered a security vulnerability in production, what steps would you take?',
            'question_type': 'SITUATIONAL',
            'difficulty': 'MEDIUM',
            'skills': ['Security', 'Risk Management', 'Incident Response'],
            'tags': ['situational', 'security', 'incident-response'],
            'evaluation_criteria': 'Check security awareness, incident response procedures, and risk assessment capabilities.',
            'ideal_answer': 'Immediate steps: 1) Assess severity and potential impact, 2) Document the vulnerability, 3) Notify security team/manager immediately, 4) Do not publicly disclose until fixed, 5) Work with team to develop patch, 6) Test fix thoroughly, 7) Deploy fix following security protocols, 8) Monitor for exploitation, 9) Conduct post-incident review, 10) Update security practices. Show understanding of responsible disclosure and security-first mindset.',
            'rationale': 'Evaluates security awareness and proper incident response procedures.',
            'version': 1,
            'created_at': now - timedelta(days=12),
            'updated_at': now - timedelta(days=12),
        },
        {
            'id': uuid.UUID('760e8400-e29b-41d4-a716-446655440016'),
            'text': 'You need to refactor a large legacy codebase with no tests. How would you approach it?',
            'question_type': 'SITUATIONAL',
            'difficulty': 'HARD',
            'skills': ['Refactoring', 'Legacy Code', 'Testing', 'Risk Management'],
            'tags': ['situational', 'refactoring', 'legacy-code'],
            'evaluation_criteria': 'Assess refactoring strategy, risk management, and systematic approach to technical debt.',
            'ideal_answer': 'Approach: 1) Understand the codebase (documentation, code analysis, team knowledge), 2) Add tests incrementally (start with critical paths, use characterization tests), 3) Identify refactoring priorities (high-risk, high-value areas first), 4) Refactor in small, incremental changes, 5) Maintain backward compatibility, 6) Use feature flags for risky changes, 7) Monitor for regressions, 8) Document changes. Show systematic approach, risk awareness, and focus on incremental improvement rather than big-bang rewrites.',
            'rationale': 'Tests ability to handle technical debt and refactoring challenges systematically.',
            'version': 1,
            'created_at': now - timedelta(days=10),
            'updated_at': now - timedelta(days=10),
        },
        {
            'id': uuid.UUID('760e8400-e29b-41d4-a716-446655440017'),
            'text': 'Explain how you would design a caching strategy for a high-traffic web application.',
            'question_type': 'TECHNICAL',
            'difficulty': 'HARD',
            'skills': ['System Design', 'Caching', 'Performance', 'Architecture'],
            'tags': ['system-design', 'caching', 'performance'],
            'evaluation_criteria': 'Evaluate system design thinking and understanding of caching patterns and trade-offs.',
            'ideal_answer': 'Multi-layer caching strategy: 1) Browser cache (static assets, long TTL), 2) CDN (geographic distribution, static content), 3) Application cache (Redis/Memcached for frequently accessed data, session data), 4) Database query cache. Considerations: cache invalidation strategy (TTL, event-based, manual), cache warming for critical data, cache-aside vs write-through patterns, handling cache misses, cache key design, monitoring hit rates. Choose cache locations based on data access patterns, update frequency, and consistency requirements. Balance between performance gains and complexity.',
            'rationale': 'Assesses system design skills and understanding of performance optimization techniques.',
            'version': 1,
            'created_at': now - timedelta(days=8),
            'updated_at': now - timedelta(days=8),
        },
        {
            'id': uuid.UUID('760e8400-e29b-41d4-a716-446655440018'),
            'text': 'What is the difference between horizontal and vertical scaling? When would you use each?',
            'question_type': 'TECHNICAL',
            'difficulty': 'MEDIUM',
            'skills': ['System Design', 'Scalability', 'Infrastructure'],
            'tags': ['scalability', 'system-design', 'infrastructure'],
            'evaluation_criteria': 'Check understanding of scaling strategies and their trade-offs.',
            'ideal_answer': 'Vertical scaling (scale up) increases resources of existing server (more CPU, RAM, storage). Pros: simpler, no code changes needed, better for single-threaded apps. Cons: limited by hardware, expensive, single point of failure. Horizontal scaling (scale out) adds more servers. Pros: nearly unlimited scaling, cost-effective, better fault tolerance. Cons: requires stateless design, load balancing, distributed system complexity. Use vertical scaling for: small to medium apps, stateful applications, quick fixes. Use horizontal scaling for: large-scale systems, cloud-native apps, high availability requirements.',
            'rationale': 'Tests fundamental scalability knowledge essential for designing scalable systems.',
            'version': 1,
            'created_at': now - timedelta(days=6),
            'updated_at': now - timedelta(days=6),
        },
    ]

    op.bulk_insert(questions_table, questions_data)

    print("[OK] Seeded 41 questions")

    # =============================================
    # SEED DATA - CV ANALYSES (10 total: 3 + 7)
    # =============================================
    op.bulk_insert(cv_analyses_table, [
        {
            'id': uuid.UUID('750e8400-e29b-41d4-a716-446655440001'),
            'candidate_id': uuid.UUID('550e8400-e29b-41d4-a716-446655440001'),
            'cv_file_path': '/uploads/cvs/john_doe_cv.pdf',
            'extracted_text': 'John Doe - Senior Full Stack Developer. 5+ years experience in React, Node.js, PostgreSQL.',
            'skills': [
                {"skill": "React", "proficiency": "expert", "years": 5},
                {"skill": "Node.js", "proficiency": "expert", "years": 5},
            ],
            'work_experience_years': 5.5,
            'education_level': 'Bachelor',
            'suggested_topics': ['Microservices', 'React Hooks', 'Database Design'],
            'suggested_difficulty': 'MEDIUM',
            'summary': 'Experienced full-stack developer with strong React and Node.js skills.',
            'metadata': {"keywords": ["React", "Node.js"]},
            'created_at': now - timedelta(days=29),
        },
        {
            'id': uuid.UUID('750e8400-e29b-41d4-a716-446655440002'),
            'candidate_id': uuid.UUID('550e8400-e29b-41d4-a716-446655440002'),
            'cv_file_path': '/uploads/cvs/jane_smith_cv.pdf',
            'extracted_text': 'Jane Smith - Backend Engineer. 3+ years experience in Python, Java, SQL, REST APIs, and microservices architecture.',
            'skills': [
                {"skill": "Python", "proficiency": "advanced", "years": 3},
                {"skill": "Java", "proficiency": "advanced", "years": 3},
                {"skill": "SQL", "proficiency": "intermediate", "years": 2},
                {"skill": "REST API", "proficiency": "advanced", "years": 3},
            ],
            'work_experience_years': 3.5,
            'education_level': 'Master',
            'suggested_topics': ['System Design', 'SOLID Principles', 'Database Optimization', 'API Design'],
            'suggested_difficulty': 'MEDIUM',
            'summary': 'Backend engineer with strong Python and Java skills, experienced in building scalable APIs.',
            'metadata': {"keywords": ["Python", "Java", "Backend", "API"]},
            'created_at': now - timedelta(days=24),
        },
        {
            'id': uuid.UUID('750e8400-e29b-41d4-a716-446655440003'),
            'candidate_id': uuid.UUID('550e8400-e29b-41d4-a716-446655440003'),
            'cv_file_path': '/uploads/cvs/bob_johnson_cv.pdf',
            'extracted_text': 'Bob Johnson - Full Stack Developer. 7+ years experience in JavaScript, React, Node.js, Docker, and cloud technologies.',
            'skills': [
                {"skill": "JavaScript", "proficiency": "expert", "years": 7},
                {"skill": "React", "proficiency": "expert", "years": 6},
                {"skill": "Node.js", "proficiency": "expert", "years": 6},
                {"skill": "Docker", "proficiency": "advanced", "years": 4},
            ],
            'work_experience_years': 7.5,
            'education_level': 'Bachelor',
            'suggested_topics': ['Event Loop', 'System Design', 'Microservices', 'Async Programming'],
            'suggested_difficulty': 'HARD',
            'summary': 'Senior full-stack developer with extensive JavaScript ecosystem expertise and system design experience.',
            'metadata': {"keywords": ["JavaScript", "React", "Node.js", "System Design"]},
            'created_at': now - timedelta(days=19),
        },
        {
            'id': uuid.UUID('860e8400-e29b-41d4-a716-446655440001'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440001'),
            'cv_file_path': '/uploads/cvs/alice_chen_cv.pdf',
            'extracted_text': 'Alice Chen - Junior Full Stack Developer. 1.5 years experience in React, Node.js, and PostgreSQL. Recent computer science graduate with strong foundation in web development. Experience building responsive web applications and RESTful APIs.',
            'skills': [
                {"skill": "React", "proficiency": "intermediate", "years": 1.5, "category": "technical"},
                {"skill": "Node.js", "proficiency": "intermediate", "years": 1.5, "category": "technical"},
                {"skill": "JavaScript", "proficiency": "intermediate", "years": 1.5, "category": "technical"},
                {"skill": "PostgreSQL", "proficiency": "beginner", "years": 1, "category": "technical"},
                {"skill": "HTML/CSS", "proficiency": "intermediate", "years": 1.5, "category": "technical"},
            ],
            'work_experience_years': 1.5,
            'education_level': "Bachelor's",
            'suggested_topics': ['React Hooks', 'Async/Await', 'REST API Design', 'Database Basics', 'Testing'],
            'suggested_difficulty': 'EASY',
            'summary': 'Junior full-stack developer with 1.5 years of experience. Strong in React and Node.js fundamentals. Good foundation but needs experience with advanced concepts and system design.',
            'metadata': {"keywords": ["React", "Node.js", "Junior", "Full Stack"]},
            'created_at': now - timedelta(days=13),
        },
        {
            'id': uuid.UUID('860e8400-e29b-41d4-a716-446655440002'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440002'),
            'cv_file_path': '/uploads/cvs/michael_rodriguez_cv.pdf',
            'extracted_text': 'Michael Rodriguez - Mid-level Backend Engineer. 4 years experience in Python, Django, PostgreSQL, and AWS. Specialized in building scalable REST APIs and microservices. Experience with Docker, Kubernetes, and CI/CD pipelines.',
            'skills': [
                {"skill": "Python", "proficiency": "advanced", "years": 4, "category": "technical"},
                {"skill": "Django", "proficiency": "advanced", "years": 4, "category": "technical"},
                {"skill": "PostgreSQL", "proficiency": "advanced", "years": 4, "category": "technical"},
                {"skill": "AWS", "proficiency": "intermediate", "years": 2, "category": "technical"},
                {"skill": "Docker", "proficiency": "intermediate", "years": 2, "category": "technical"},
                {"skill": "REST API", "proficiency": "advanced", "years": 4, "category": "technical"},
            ],
            'work_experience_years': 4.0,
            'education_level': "Bachelor's",
            'suggested_topics': ['System Design', 'Database Optimization', 'Microservices', 'API Design', 'SOLID Principles'],
            'suggested_difficulty': 'MEDIUM',
            'summary': 'Mid-level backend engineer with 4 years of Python and Django experience. Strong in API design and database optimization. Ready for system design and architecture discussions.',
            'metadata': {"keywords": ["Python", "Backend", "Django", "API"]},
            'created_at': now - timedelta(days=11),
        },
        {
            'id': uuid.UUID('860e8400-e29b-41d4-a716-446655440003'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440003'),
            'cv_file_path': '/uploads/cvs/sarah_williams_cv.pdf',
            'extracted_text': 'Sarah Williams - Senior Full Stack Developer. 8 years experience in JavaScript, TypeScript, React, Node.js, and cloud technologies. Led multiple teams and architected large-scale applications. Expert in system design and performance optimization.',
            'skills': [
                {"skill": "JavaScript", "proficiency": "expert", "years": 8, "category": "technical"},
                {"skill": "TypeScript", "proficiency": "expert", "years": 6, "category": "technical"},
                {"skill": "React", "proficiency": "expert", "years": 7, "category": "technical"},
                {"skill": "Node.js", "proficiency": "expert", "years": 8, "category": "technical"},
                {"skill": "System Design", "proficiency": "expert", "years": 5, "category": "technical"},
                {"skill": "AWS", "proficiency": "advanced", "years": 4, "category": "technical"},
                {"skill": "Docker", "proficiency": "advanced", "years": 4, "category": "technical"},
            ],
            'work_experience_years': 8.0,
            'education_level': "Master's",
            'suggested_topics': ['System Design', 'Event Loop', 'Microservices Architecture', 'Performance Optimization', 'Scalability Patterns'],
            'suggested_difficulty': 'HARD',
            'summary': 'Senior full-stack developer with 8 years of experience. Expert in JavaScript ecosystem and system design. Strong leadership experience and ability to architect scalable solutions.',
            'metadata': {"keywords": ["Senior", "Full Stack", "System Design", "JavaScript"]},
            'created_at': now - timedelta(days=9),
        },
        {
            'id': uuid.UUID('860e8400-e29b-41d4-a716-446655440004'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440004'),
            'cv_file_path': '/uploads/cvs/david_kim_cv.pdf',
            'extracted_text': 'David Kim - Frontend Specialist. 3 years experience in React, Vue.js, TypeScript, and modern frontend tooling. Strong UI/UX focus with expertise in state management, performance optimization, and responsive design.',
            'skills': [
                {"skill": "React", "proficiency": "advanced", "years": 3, "category": "technical"},
                {"skill": "Vue.js", "proficiency": "advanced", "years": 3, "category": "technical"},
                {"skill": "TypeScript", "proficiency": "advanced", "years": 2.5, "category": "technical"},
                {"skill": "CSS/SCSS", "proficiency": "advanced", "years": 3, "category": "technical"},
                {"skill": "Redux", "proficiency": "intermediate", "years": 2, "category": "technical"},
                {"skill": "Webpack", "proficiency": "intermediate", "years": 2, "category": "technical"},
            ],
            'work_experience_years': 3.0,
            'education_level': "Bachelor's",
            'suggested_topics': ['React Hooks', 'State Management', 'Performance Optimization', 'Frontend Architecture', 'Testing'],
            'suggested_difficulty': 'MEDIUM',
            'summary': 'Frontend specialist with 3 years of React and Vue.js experience. Strong focus on UI/UX and frontend performance. Good understanding of modern frontend patterns.',
            'metadata': {"keywords": ["Frontend", "React", "Vue.js", "UI/UX"]},
            'created_at': now - timedelta(days=7),
        },
        {
            'id': uuid.UUID('860e8400-e29b-41d4-a716-446655440005'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440005'),
            'cv_file_path': '/uploads/cvs/emily_thompson_cv.pdf',
            'extracted_text': 'Emily Thompson - DevOps Engineer. 5 years experience in CI/CD, Kubernetes, Docker, AWS, Terraform, and infrastructure automation. Expert in cloud architecture and monitoring solutions.',
            'skills': [
                {"skill": "Kubernetes", "proficiency": "expert", "years": 4, "category": "technical"},
                {"skill": "Docker", "proficiency": "expert", "years": 5, "category": "technical"},
                {"skill": "AWS", "proficiency": "expert", "years": 5, "category": "technical"},
                {"skill": "Terraform", "proficiency": "advanced", "years": 3, "category": "technical"},
                {"skill": "CI/CD", "proficiency": "expert", "years": 5, "category": "technical"},
                {"skill": "Linux", "proficiency": "advanced", "years": 5, "category": "technical"},
                {"skill": "Python", "proficiency": "intermediate", "years": 3, "category": "technical"},
            ],
            'work_experience_years': 5.0,
            'education_level': "Bachelor's",
            'suggested_topics': ['System Design', 'Scalability', 'Infrastructure', 'Cloud Architecture', 'Container Orchestration'],
            'suggested_difficulty': 'HARD',
            'summary': 'DevOps engineer with 5 years of experience in cloud infrastructure and automation. Expert in Kubernetes, Docker, and AWS. Strong in infrastructure as code and CI/CD pipelines.',
            'metadata': {"keywords": ["DevOps", "Kubernetes", "AWS", "Infrastructure"]},
            'created_at': now - timedelta(days=5),
        },
        {
            'id': uuid.UUID('860e8400-e29b-41d4-a716-446655440006'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440006'),
            'cv_file_path': '/uploads/cvs/james_anderson_cv.pdf',
            'extracted_text': 'James Anderson - Full Stack Developer. 2.5 years experience in Java, Spring Boot, React, and PostgreSQL. Experience building enterprise applications and RESTful services.',
            'skills': [
                {"skill": "Java", "proficiency": "intermediate", "years": 2.5, "category": "technical"},
                {"skill": "Spring Boot", "proficiency": "intermediate", "years": 2.5, "category": "technical"},
                {"skill": "React", "proficiency": "intermediate", "years": 2, "category": "technical"},
                {"skill": "PostgreSQL", "proficiency": "intermediate", "years": 2.5, "category": "technical"},
                {"skill": "REST API", "proficiency": "intermediate", "years": 2.5, "category": "technical"},
            ],
            'work_experience_years': 2.5,
            'education_level': "Bachelor's",
            'suggested_topics': ['Java Fundamentals', 'Spring Framework', 'Database Design', 'API Design', 'Testing'],
            'suggested_difficulty': 'EASY',
            'summary': 'Full-stack developer with 2.5 years of Java and Spring Boot experience. Good foundation in enterprise development. Still learning advanced concepts.',
            'metadata': {"keywords": ["Java", "Spring Boot", "Full Stack"]},
            'created_at': now - timedelta(days=3),
        },
        {
            'id': uuid.UUID('860e8400-e29b-41d4-a716-446655440007'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440007'),
            'cv_file_path': '/uploads/cvs/lisa_martinez_cv.pdf',
            'extracted_text': 'Lisa Martinez - Backend Engineer. 6 years experience in Python, FastAPI, PostgreSQL, Redis, and distributed systems. Expert in building high-performance APIs and microservices architecture.',
            'skills': [
                {"skill": "Python", "proficiency": "expert", "years": 6, "category": "technical"},
                {"skill": "FastAPI", "proficiency": "expert", "years": 4, "category": "technical"},
                {"skill": "PostgreSQL", "proficiency": "expert", "years": 6, "category": "technical"},
                {"skill": "Redis", "proficiency": "advanced", "years": 4, "category": "technical"},
                {"skill": "Microservices", "proficiency": "advanced", "years": 3, "category": "technical"},
                {"skill": "Docker", "proficiency": "advanced", "years": 4, "category": "technical"},
            ],
            'work_experience_years': 6.0,
            'education_level': "Master's",
            'suggested_topics': ['System Design', 'Microservices', 'Database Optimization', 'Caching Strategies', 'API Performance'],
            'suggested_difficulty': 'HARD',
            'summary': 'Senior backend engineer with 6 years of Python experience. Expert in FastAPI and building scalable microservices. Strong in database optimization and caching strategies.',
            'metadata': {"keywords": ["Python", "Backend", "Microservices", "FastAPI"]},
            'created_at': now - timedelta(days=1),
        },
    ])

    print("[OK] Seeded 10 CV analyses")

    # =============================================
    # SEED DATA - INTERVIEWS (14 total: 4 + 10)
    # =============================================
    interviews_data = [
        {
            'id': uuid.UUID('850e8400-e29b-41d4-a716-446655440001'),
            'candidate_id': uuid.UUID('550e8400-e29b-41d4-a716-446655440001'),
            'status': 'COMPLETE',
            'cv_analysis_id': uuid.UUID('750e8400-e29b-41d4-a716-446655440001'),
            'question_ids': [
                uuid.UUID('650e8400-e29b-41d4-a716-446655440001'),
                uuid.UUID('650e8400-e29b-41d4-a716-446655440003'),
            ],
            'answer_ids': [
                uuid.UUID('950e8400-e29b-41d4-a716-446655440001'),
                uuid.UUID('950e8400-e29b-41d4-a716-446655440002'),
            ],
            'current_question_index': 2,
            'plan_metadata': {},
            'adaptive_follow_ups': [],
            'started_at': now - timedelta(days=28),
            'completed_at': now - timedelta(days=28) + timedelta(minutes=30),
            'created_at': now - timedelta(days=28),
            'updated_at': now - timedelta(days=28) + timedelta(minutes=30),
        },
        {
            'id': uuid.UUID('850e8400-e29b-41d4-a716-446655440002'),
            'candidate_id': uuid.UUID('550e8400-e29b-41d4-a716-446655440002'),
            'status': 'COMPLETE',
            'cv_analysis_id': uuid.UUID('750e8400-e29b-41d4-a716-446655440002'),
            'question_ids': [
                uuid.UUID('650e8400-e29b-41d4-a716-446655440004'),
                uuid.UUID('650e8400-e29b-41d4-a716-446655440006'),
                uuid.UUID('650e8400-e29b-41d4-a716-446655440010'),
                uuid.UUID('650e8400-e29b-41d4-a716-446655440016'),
            ],
            'answer_ids': [
                uuid.UUID('950e8400-e29b-41d4-a716-446655440003'),
                uuid.UUID('950e8400-e29b-41d4-a716-446655440004'),
                uuid.UUID('950e8400-e29b-41d4-a716-446655440005'),
                uuid.UUID('950e8400-e29b-41d4-a716-446655440006'),
            ],
            'current_question_index': 4,
            'plan_metadata': {},
            'adaptive_follow_ups': [],
            'started_at': now - timedelta(days=23),
            'completed_at': now - timedelta(days=23) + timedelta(minutes=45),
            'created_at': now - timedelta(days=23),
            'updated_at': now - timedelta(days=23) + timedelta(minutes=45),
        },
        {
            'id': uuid.UUID('850e8400-e29b-41d4-a716-446655440003'),
            'candidate_id': uuid.UUID('550e8400-e29b-41d4-a716-446655440003'),
            'status': 'QUESTIONING',
            'cv_analysis_id': uuid.UUID('750e8400-e29b-41d4-a716-446655440003'),
            'question_ids': [
                uuid.UUID('650e8400-e29b-41d4-a716-446655440008'),
                uuid.UUID('650e8400-e29b-41d4-a716-446655440014'),
                uuid.UUID('650e8400-e29b-41d4-a716-446655440018'),
            ],
            'answer_ids': [
                uuid.UUID('950e8400-e29b-41d4-a716-446655440007'),
            ],
            'current_question_index': 1,
            'plan_metadata': {},
            'adaptive_follow_ups': [],
            'started_at': now - timedelta(days=18),
            'completed_at': None,
            'created_at': now - timedelta(days=18),
            'updated_at': now - timedelta(days=18) + timedelta(minutes=20),
        },
        {
            'id': uuid.UUID('850e8400-e29b-41d4-a716-446655440004'),
            'candidate_id': uuid.UUID('550e8400-e29b-41d4-a716-446655440002'),
            'status': 'IDLE',
            'cv_analysis_id': uuid.UUID('750e8400-e29b-41d4-a716-446655440002'),
            'question_ids': [
                uuid.UUID('650e8400-e29b-41d4-a716-446655440005'),
                uuid.UUID('650e8400-e29b-41d4-a716-446655440009'),
                uuid.UUID('650e8400-e29b-41d4-a716-446655440013'),
            ],
            'answer_ids': [],
            'current_question_index': 0,
            'plan_metadata': {},
            'adaptive_follow_ups': [],
            'started_at': None,
            'completed_at': None,
            'created_at': now - timedelta(days=15),
            'updated_at': now - timedelta(days=15),
        },
        {
            'id': uuid.UUID('960e8400-e29b-41d4-a716-446655440001'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440001'),
            'status': 'COMPLETE',
            'cv_analysis_id': uuid.UUID('860e8400-e29b-41d4-a716-446655440001'),
            'question_ids': [
                uuid.UUID('650e8400-e29b-41d4-a716-446655440001'),
                uuid.UUID('650e8400-e29b-41d4-a716-446655440007'),
                uuid.UUID('760e8400-e29b-41d4-a716-446655440007'),
                uuid.UUID('650e8400-e29b-41d4-a716-446655440017'),
            ],
            'answer_ids': [
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440001'),
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440002'),
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440003'),
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440004'),
            ],
            'current_question_index': 4,
            'plan_metadata': {
                'n': 4,
                'generated_at': (now - timedelta(days=12)).isoformat(),
                'strategy': 'beginner_focused',
                'difficulty': 'easy',
            },
            'adaptive_follow_ups': [
                uuid.UUID('b60e8400-e29b-41d4-a716-446655440001'),
                uuid.UUID('b60e8400-e29b-41d4-a716-446655440002'),
                uuid.UUID('b60e8400-e29b-41d4-a716-446655440003'),
            ],
            'started_at': now - timedelta(days=12, hours=2),
            'completed_at': now - timedelta(days=12, hours=2, minutes=35),
            'created_at': now - timedelta(days=12),
            'updated_at': now - timedelta(days=12, hours=2, minutes=35),
        },
        {
            'id': uuid.UUID('960e8400-e29b-41d4-a716-446655440002'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440002'),
            'status': 'COMPLETE',
            'cv_analysis_id': uuid.UUID('860e8400-e29b-41d4-a716-446655440002'),
            'question_ids': [
                uuid.UUID('760e8400-e29b-41d4-a716-446655440001'),
                uuid.UUID('760e8400-e29b-41d4-a716-446655440003'),
                uuid.UUID('760e8400-e29b-41d4-a716-446655440004'),
                uuid.UUID('650e8400-e29b-41d4-a716-446655440010'),
                uuid.UUID('760e8400-e29b-41d4-a716-446655440014'),
            ],
            'answer_ids': [
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440005'),
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440006'),
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440007'),
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440008'),
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440009'),
            ],
            'current_question_index': 5,
            'plan_metadata': {
                'n': 5,
                'generated_at': (now - timedelta(days=10)).isoformat(),
                'strategy': 'balanced_technical',
                'difficulty': 'medium',
            },
            'adaptive_follow_ups': [],
            'started_at': now - timedelta(days=10, hours=3),
            'completed_at': now - timedelta(days=10, hours=3, minutes=48),
            'created_at': now - timedelta(days=10),
            'updated_at': now - timedelta(days=10, hours=3, minutes=48),
        },
        {
            'id': uuid.UUID('960e8400-e29b-41d4-a716-446655440003'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440003'),
            'status': 'COMPLETE',
            'cv_analysis_id': uuid.UUID('860e8400-e29b-41d4-a716-446655440003'),
            'question_ids': [
                uuid.UUID('760e8400-e29b-41d4-a716-446655440002'),
                uuid.UUID('760e8400-e29b-41d4-a716-446655440005'),
                uuid.UUID('760e8400-e29b-41d4-a716-446655440009'),
                uuid.UUID('760e8400-e29b-41d4-a716-446655440017'),
                uuid.UUID('650e8400-e29b-41d4-a716-446655440008'),
            ],
            'answer_ids': [
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440010'),
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440011'),
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440012'),
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440013'),
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440014'),
            ],
            'current_question_index': 5,
            'plan_metadata': {
                'n': 5,
                'generated_at': (now - timedelta(days=8)).isoformat(),
                'strategy': 'senior_design_focused',
                'difficulty': 'hard',
            },
            'adaptive_follow_ups': [],
            'started_at': now - timedelta(days=8, hours=1),
            'completed_at': now - timedelta(days=8, hours=1, minutes=52),
            'created_at': now - timedelta(days=8),
            'updated_at': now - timedelta(days=8, hours=1, minutes=52),
        },
        {
            'id': uuid.UUID('960e8400-e29b-41d4-a716-446655440004'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440004'),
            'status': 'COMPLETE',
            'cv_analysis_id': uuid.UUID('860e8400-e29b-41d4-a716-446655440004'),
            'question_ids': [
                uuid.UUID('650e8400-e29b-41d4-a716-446655440007'),
                uuid.UUID('760e8400-e29b-41d4-a716-446655440009'),
                uuid.UUID('760e8400-e29b-41d4-a716-446655440007'),
                uuid.UUID('650e8400-e29b-41d4-a716-446655440003'),
            ],
            'answer_ids': [
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440015'),
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440016'),
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440017'),
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440018'),
            ],
            'current_question_index': 4,
            'plan_metadata': {
                'n': 4,
                'generated_at': (now - timedelta(days=6)).isoformat(),
                'strategy': 'frontend_focused',
                'difficulty': 'medium',
            },
            'adaptive_follow_ups': [
                uuid.UUID('b60e8400-e29b-41d4-a716-446655440004'),
                uuid.UUID('b60e8400-e29b-41d4-a716-446655440005'),
            ],
            'started_at': now - timedelta(days=6, hours=2, minutes=30),
            'completed_at': now - timedelta(days=6, hours=3, minutes=15),
            'created_at': now - timedelta(days=6),
            'updated_at': now - timedelta(days=6, hours=3, minutes=15),
        },
        {
            'id': uuid.UUID('960e8400-e29b-41d4-a716-446655440005'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440005'),
            'status': 'FOLLOW_UP',
            'cv_analysis_id': uuid.UUID('860e8400-e29b-41d4-a716-446655440005'),
            'question_ids': [
                uuid.UUID('760e8400-e29b-41d4-a716-446655440002'),
                uuid.UUID('760e8400-e29b-41d4-a716-446655440018'),
                uuid.UUID('650e8400-e29b-41d4-a716-446655440011'),
                uuid.UUID('760e8400-e29b-41d4-a716-446655440017'),
            ],
            'answer_ids': [
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440019'),
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440020'),
            ],
            'current_question_index': 2,
            'plan_metadata': {
                'n': 4,
                'generated_at': (now - timedelta(days=4)).isoformat(),
                'strategy': 'devops_infrastructure',
                'difficulty': 'hard',
            },
            'adaptive_follow_ups': [
                uuid.UUID('b60e8400-e29b-41d4-a716-446655440006'),
                uuid.UUID('b60e8400-e29b-41d4-a716-446655440007'),
            ],
            'started_at': now - timedelta(days=4, hours=1),
            'completed_at': None,
            'created_at': now - timedelta(days=4),
            'updated_at': now - timedelta(days=4, hours=1, minutes=25),
        },
        {
            'id': uuid.UUID('960e8400-e29b-41d4-a716-446655440006'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440006'),
            'status': 'FOLLOW_UP',
            'cv_analysis_id': uuid.UUID('860e8400-e29b-41d4-a716-446655440006'),
            'question_ids': [
                uuid.UUID('650e8400-e29b-41d4-a716-446655440023'),
                uuid.UUID('760e8400-e29b-41d4-a716-446655440006'),
                uuid.UUID('760e8400-e29b-41d4-a716-446655440010'),
                uuid.UUID('650e8400-e29b-41d4-a716-446655440010'),
            ],
            'answer_ids': [
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440021'),
            ],
            'current_question_index': 1,
            'plan_metadata': {
                'n': 4,
                'generated_at': (now - timedelta(days=2)).isoformat(),
                'strategy': 'java_backend_focused',
                'difficulty': 'easy',
            },
            'adaptive_follow_ups': [
                uuid.UUID('b60e8400-e29b-41d4-a716-446655440008'),
                uuid.UUID('b60e8400-e29b-41d4-a716-446655440009'),
            ],
            'started_at': now - timedelta(days=2, hours=2),
            'completed_at': None,
            'created_at': now - timedelta(days=2),
            'updated_at': now - timedelta(days=2, hours=2, minutes=12),
        },
        {
            'id': uuid.UUID('960e8400-e29b-41d4-a716-446655440007'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440007'),
            'status': 'FOLLOW_UP',
            'cv_analysis_id': uuid.UUID('860e8400-e29b-41d4-a716-446655440007'),
            'question_ids': [
                uuid.UUID('760e8400-e29b-41d4-a716-446655440005'),
                uuid.UUID('760e8400-e29b-41d4-a716-446655440008'),
                uuid.UUID('760e8400-e29b-41d4-a716-446655440002'),
                uuid.UUID('760e8400-e29b-41d4-a716-446655440017'),
                uuid.UUID('650e8400-e29b-41d4-a716-446655440004'),
            ],
            'answer_ids': [
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440022'),
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440023'),
                uuid.UUID('a60e8400-e29b-41d4-a716-446655440024'),
            ],
            'current_question_index': 3,
            'plan_metadata': {
                'n': 5,
                'generated_at': (now - timedelta(days=1)).isoformat(),
                'strategy': 'senior_backend_design',
                'difficulty': 'hard',
            },
            'adaptive_follow_ups': [
                uuid.UUID('b60e8400-e29b-41d4-a716-446655440010'),
                uuid.UUID('b60e8400-e29b-41d4-a716-446655440011'),
                uuid.UUID('b60e8400-e29b-41d4-a716-446655440012'),
            ],
            'started_at': now - timedelta(days=1, hours=3),
            'completed_at': None,
            'created_at': now - timedelta(days=1),
            'updated_at': now - timedelta(days=1, hours=3, minutes=38),
        },
        {
            'id': uuid.UUID('960e8400-e29b-41d4-a716-446655440008'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440001'),
            'status': 'IDLE',
            'cv_analysis_id': uuid.UUID('860e8400-e29b-41d4-a716-446655440001'),
            'question_ids': [
                uuid.UUID('650e8400-e29b-41d4-a716-446655440002'),
                uuid.UUID('760e8400-e29b-41d4-a716-446655440007'),
                uuid.UUID('650e8400-e29b-41d4-a716-446655440005'),
            ],
            'answer_ids': [],
            'current_question_index': 0,
            'plan_metadata': {
                'n': 3,
                'generated_at': (now - timedelta(hours=2)).isoformat(),
                'strategy': 'follow_up_basics',
                'difficulty': 'easy',
            },
            'adaptive_follow_ups': [],
            'started_at': None,
            'completed_at': None,
            'created_at': now - timedelta(hours=2),
            'updated_at': now - timedelta(hours=2),
        },
        {
            'id': uuid.UUID('960e8400-e29b-41d4-a716-446655440009'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440002'),
            'status': 'IDLE',
            'cv_analysis_id': uuid.UUID('860e8400-e29b-41d4-a716-446655440002'),
            'question_ids': [
                uuid.UUID('760e8400-e29b-41d4-a716-446655440006'),
                uuid.UUID('760e8400-e29b-41d4-a716-446655440010'),
                uuid.UUID('760e8400-e29b-41d4-a716-446655440012'),
            ],
            'answer_ids': [],
            'current_question_index': 0,
            'plan_metadata': {
                'n': 3,
                'generated_at': (now - timedelta(hours=1)).isoformat(),
                'strategy': 'database_deep_dive',
                'difficulty': 'medium',
            },
            'adaptive_follow_ups': [],
            'started_at': None,
            'completed_at': None,
            'created_at': now - timedelta(hours=1),
            'updated_at': now - timedelta(hours=1),
        },
        {
            'id': uuid.UUID('960e8400-e29b-41d4-a716-446655440010'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440004'),
            'status': 'IDLE',
            'cv_analysis_id': None,
            'question_ids': [],
            'answer_ids': [],
            'current_question_index': 0,
            'plan_metadata': {},
            'adaptive_follow_ups': [],
            'started_at': None,
            'completed_at': None,
            'created_at': now - timedelta(minutes=30),
            'updated_at': now - timedelta(minutes=30),
        },
    ]

    op.bulk_insert(interviews_table, interviews_data)

    print("[OK] Seeded interviews")

    # =============================================
    # SEED DATA - ANSWERS (31 total: 7 + 24)
    # =============================================
    answers_data = [
        {
            'id': uuid.UUID('950e8400-e29b-41d4-a716-446655440001'),
            'interview_id': uuid.UUID('850e8400-e29b-41d4-a716-446655440001'),
            'question_id': uuid.UUID('650e8400-e29b-41d4-a716-446655440001'),
            'candidate_id': uuid.UUID('550e8400-e29b-41d4-a716-446655440001'),
            'text': 'var is function-scoped, let and const are block-scoped. const cannot be reassigned.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': None,
            'evaluation': {
                "score": 85,
                "feedback": "Good understanding of scope and hoisting.",
                "strengths": ["Clear explanation"],
            },
            'similarity_score': 0.72,
            'gaps': {
                "missing_concepts": ["detail", "examples"],
                "improvement_areas": ["depth", "clarity"]
            },
            'metadata': {"response_time_seconds": 45},
            'created_at': now - timedelta(days=28),
            'evaluated_at': now - timedelta(days=28) + timedelta(minutes=5),
        },
        {
            'id': uuid.UUID('950e8400-e29b-41d4-a716-446655440002'),
            'interview_id': uuid.UUID('850e8400-e29b-41d4-a716-446655440001'),
            'question_id': uuid.UUID('650e8400-e29b-41d4-a716-446655440003'),
            'candidate_id': uuid.UUID('550e8400-e29b-41d4-a716-446655440001'),
            'text': 'async/await makes async code more readable. It is built on top of Promises.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': None,
            'evaluation': {
                "score": 80,
                "feedback": "Solid understanding.",
            },
            'similarity_score': 0.70,
            'gaps': {
                "missing_concepts": ["advanced_details"],
                "improvement_areas": ["specificity"]
            },
            'metadata': {"response_time_seconds": 60},
            'created_at': now - timedelta(days=28) + timedelta(minutes=15),
            'evaluated_at': now - timedelta(days=28) + timedelta(minutes=20),
        },
        {
            'id': uuid.UUID('950e8400-e29b-41d4-a716-446655440003'),
            'interview_id': uuid.UUID('850e8400-e29b-41d4-a716-446655440002'),
            'question_id': uuid.UUID('650e8400-e29b-41d4-a716-446655440004'),
            'candidate_id': uuid.UUID('550e8400-e29b-41d4-a716-446655440002'),
            'text': 'A closure in Python is a nested function that captures variables from its enclosing scope. For example, a counter function can maintain state between calls.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': None,
            'evaluation': {
                "score": 88,
                "feedback": "Good understanding of closures with practical example.",
                "strengths": ["Clear explanation", "Provided example"],
            },
            'similarity_score': 0.85,
            'gaps': {
                "missing_concepts": [],
                "improvement_areas": []
            },
            'metadata': {"response_time_seconds": 50},
            'created_at': now - timedelta(days=23) + timedelta(minutes=5),
            'evaluated_at': now - timedelta(days=23) + timedelta(minutes=8),
        },
        {
            'id': uuid.UUID('950e8400-e29b-41d4-a716-446655440004'),
            'interview_id': uuid.UUID('850e8400-e29b-41d4-a716-446655440002'),
            'question_id': uuid.UUID('650e8400-e29b-41d4-a716-446655440006'),
            'candidate_id': uuid.UUID('550e8400-e29b-41d4-a716-446655440002'),
            'text': 'INNER JOIN returns matching rows from both tables. LEFT JOIN returns all rows from left table. RIGHT JOIN returns all rows from right table. FULL OUTER JOIN returns all rows from both tables.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': None,
            'evaluation': {
                "score": 92,
                "feedback": "Excellent understanding of SQL JOIN operations.",
                "strengths": ["Complete coverage of all JOIN types", "Clear explanation"],
            },
            'similarity_score': 0.90,
            'gaps': {
                "missing_concepts": [],
                "improvement_areas": []
            },
            'metadata': {"response_time_seconds": 55},
            'created_at': now - timedelta(days=23) + timedelta(minutes=15),
            'evaluated_at': now - timedelta(days=23) + timedelta(minutes=18),
        },
        {
            'id': uuid.UUID('950e8400-e29b-41d4-a716-446655440005'),
            'interview_id': uuid.UUID('850e8400-e29b-41d4-a716-446655440002'),
            'question_id': uuid.UUID('650e8400-e29b-41d4-a716-446655440010'),
            'candidate_id': uuid.UUID('550e8400-e29b-41d4-a716-446655440002'),
            'text': 'SOLID principles are: Single Responsibility - one reason to change, Open/Closed - open for extension, Liskov Substitution - derived classes must be substitutable, Interface Segregation - no forced implementation, Dependency Inversion - depend on abstractions.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': None,
            'evaluation': {
                "score": 85,
                "feedback": "Solid grasp of SOLID principles with clear explanations.",
                "strengths": ["Covered all principles", "Practical understanding"],
            },
            'similarity_score': 0.85,
            'gaps': {
                "missing_concepts": [],
                "improvement_areas": []
            },
            'metadata': {"response_time_seconds": 75},
            'created_at': now - timedelta(days=23) + timedelta(minutes=25),
            'evaluated_at': now - timedelta(days=23) + timedelta(minutes=30),
        },
        {
            'id': uuid.UUID('950e8400-e29b-41d4-a716-446655440006'),
            'interview_id': uuid.UUID('850e8400-e29b-41d4-a716-446655440002'),
            'question_id': uuid.UUID('650e8400-e29b-41d4-a716-446655440016'),
            'candidate_id': uuid.UUID('550e8400-e29b-41d4-a716-446655440002'),
            'text': 'Last month I had to deliver a feature under tight deadline. I broke it down into smaller tasks, communicated blockers early, and worked extra hours when needed. We delivered on time by prioritizing the MVP.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': None,
            'evaluation': {
                "score": 78,
                "feedback": "Good example showing problem-solving under pressure.",
                "strengths": ["Clear situation", "Practical approach"],
                "areas_for_improvement": ["Could elaborate more on communication strategies"],
            },
            'similarity_score': 0.78,
            'gaps': {
                "missing_concepts": [],
                "improvement_areas": []
            },
            'metadata': {"response_time_seconds": 90},
            'created_at': now - timedelta(days=23) + timedelta(minutes=35),
            'evaluated_at': now - timedelta(days=23) + timedelta(minutes=40),
        },
        {
            'id': uuid.UUID('950e8400-e29b-41d4-a716-446655440007'),
            'interview_id': uuid.UUID('850e8400-e29b-41d4-a716-446655440003'),
            'question_id': uuid.UUID('650e8400-e29b-41d4-a716-446655440008'),
            'candidate_id': uuid.UUID('550e8400-e29b-41d4-a716-446655440003'),
            'text': 'To handle 1M requests per second, I would use horizontal scaling with load balancers, implement caching at multiple layers (CDN, Redis), use database replication and sharding, implement message queues for async processing, and design with microservices for independent scaling.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': None,
            'evaluation': {
                "score": 90,
                "feedback": "Excellent system design thinking covering key scalability patterns.",
                "strengths": ["Comprehensive approach", "Mentioned key technologies", "Thought about multiple layers"],
            },
            'similarity_score': 0.90,
            'gaps': {
                "missing_concepts": [],
                "improvement_areas": []
            },
            'metadata': {"response_time_seconds": 120},
            'created_at': now - timedelta(days=18) + timedelta(minutes=5),
            'evaluated_at': now - timedelta(days=18) + timedelta(minutes=12),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440001'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440001'),
            'question_id': uuid.UUID('650e8400-e29b-41d4-a716-446655440001'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440001'),
            'text': 'var is function-scoped and can be redeclared. let and const are block-scoped. const cannot be reassigned after declaration. I use let for variables that change and const for constants.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 45.0,
            'evaluation': {
                'score': 75.0,
                'semantic_similarity': 0.72,
                'completeness': 0.70,
                'relevance': 0.80,
                'sentiment': 'confident',
                'reasoning': 'Good basic understanding of scope differences. Could mention hoisting behavior.',
                'strengths': ['Clear explanation of scope', 'Practical usage mentioned'],
                'weaknesses': ['Missing hoisting details', 'Could explain temporal dead zone'],
                'improvement_suggestions': ['Explain hoisting behavior', 'Mention TDZ for let/const']
            },
            'similarity_score': 0.72,
            'gaps': {
                'concepts': ['hoisting', 'temporal_dead_zone'],
                'confirmed': True,
                'keywords': ['hoisting', 'TDZ'],
                'entities': []
            },
            'metadata': {'response_time_seconds': 45, 'word_count': 32},
            'created_at': now - timedelta(days=12, hours=2, minutes=5),
            'evaluated_at': now - timedelta(days=12, hours=2, minutes=6),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440002'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440001'),
            'question_id': uuid.UUID('650e8400-e29b-41d4-a716-446655440007'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440001'),
            'text': 'React Hooks let you use state and lifecycle in functional components. I use useState for state, useEffect for side effects like API calls and subscriptions, useContext for sharing data without prop drilling. They make code cleaner than class components.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 60.0,
            'evaluation': {
                'score': 78.0,
                'semantic_similarity': 0.75,
                'completeness': 0.75,
                'relevance': 0.85,
                'sentiment': 'confident',
                'reasoning': 'Solid understanding of common hooks. Could mention more hooks like useMemo, useCallback.',
                'strengths': ['Correct hook examples', 'Practical understanding'],
                'weaknesses': ['Limited to basic hooks', 'Could mention optimization hooks'],
                'improvement_suggestions': ['Learn useMemo and useCallback', 'Understand custom hooks']
            },
            'similarity_score': 0.75,
            'gaps': {
                'concepts': ['useMemo', 'useCallback', 'custom_hooks'],
                'confirmed': False,
                'keywords': ['optimization', 'performance'],
                'entities': []
            },
            'metadata': {'response_time_seconds': 60, 'word_count': 38},
            'created_at': now - timedelta(days=12, hours=2, minutes=15),
            'evaluated_at': now - timedelta(days=12, hours=2, minutes=16),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440003'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440001'),
            'question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440007'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440001'),
            'text': 'Unit tests test individual functions in isolation. Integration tests test how components work together. E2E tests test the whole application flow. I use Jest for unit tests and Cypress for E2E.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 55.0,
            'evaluation': {
                'score': 82.0,
                'semantic_similarity': 0.80,
                'completeness': 0.80,
                'relevance': 0.90,
                'sentiment': 'confident',
                'reasoning': 'Good understanding of testing pyramid. Practical tool knowledge.',
                'strengths': ['Clear distinction between test types', 'Tool knowledge'],
                'weaknesses': ['Could mention mocking strategies', 'Test coverage concepts'],
                'improvement_suggestions': ['Learn mocking techniques', 'Understand test coverage metrics']
            },
            'similarity_score': 0.80,
            'gaps': {
                'concepts': ['mocking', 'test_coverage'],
                'confirmed': False,
                'keywords': ['mocking', 'coverage'],
                'entities': []
            },
            'metadata': {'response_time_seconds': 55, 'word_count': 35},
            'created_at': now - timedelta(days=12, hours=2, minutes=25),
            'evaluated_at': now - timedelta(days=12, hours=2, minutes=26),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440004'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440001'),
            'question_id': uuid.UUID('650e8400-e29b-41d4-a716-446655440017'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440001'),
            'text': 'Last year I had to learn TypeScript for a project. I started with the official docs, built small projects, and asked my team for help. I was productive within two weeks. The type system helped catch bugs early.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 90.0,
            'evaluation': {
                'score': 85.0,
                'semantic_similarity': 0.82,
                'completeness': 0.85,
                'relevance': 0.90,
                'sentiment': 'positive',
                'reasoning': 'Good STAR method usage. Shows initiative and practical learning approach.',
                'strengths': ['Specific example', 'Clear learning process', 'Measurable outcome'],
                'weaknesses': ['Could mention challenges faced', 'More reflection on lessons learned'],
                'improvement_suggestions': ['Include challenges and how overcome', 'Reflect on key learnings']
            },
            'similarity_score': 0.82,
            'gaps': {
                'concepts': [],
                'confirmed': False,
                'keywords': [],
                'entities': []
            },
            'metadata': {'response_time_seconds': 90, 'word_count': 48},
            'created_at': now - timedelta(days=12, hours=2, minutes=30),
            'evaluated_at': now - timedelta(days=12, hours=2, minutes=32),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440005'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440002'),
            'question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440001'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440002'),
            'text': 'Dependency injection is a design pattern where dependencies are provided to a class rather than created internally. This improves testability because you can inject mocks, reduces coupling by depending on abstractions, and makes code more maintainable. I use constructor injection primarily, which ensures dependencies are available when the object is created. This follows the Dependency Inversion Principle from SOLID.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 75.0,
            'evaluation': {
                'score': 88.0,
                'semantic_similarity': 0.85,
                'completeness': 0.88,
                'relevance': 0.92,
                'sentiment': 'confident',
                'reasoning': 'Excellent understanding of DI principles and practical application. Links to SOLID principles.',
                'strengths': ['Comprehensive explanation', 'Practical experience', 'SOLID connection'],
                'weaknesses': ['Could mention service locator anti-pattern', 'Container frameworks'],
                'improvement_suggestions': ['Learn DI container frameworks', 'Understand anti-patterns to avoid']
            },
            'similarity_score': 0.85,
            'gaps': {
                'concepts': [],
                'confirmed': False,
                'keywords': [],
                'entities': []
            },
            'metadata': {'response_time_seconds': 75, 'word_count': 68},
            'created_at': now - timedelta(days=10, hours=3, minutes=5),
            'evaluated_at': now - timedelta(days=10, hours=3, minutes=7),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440006'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440002'),
            'question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440003'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440002'),
            'text': 'Hash tables use a hash function to map keys to array indices. When inserting, the hash function computes an index and stores the value there. Collisions happen when different keys hash to the same index. I know two main strategies: chaining uses linked lists at each bucket, and open addressing finds the next available slot using linear or quadratic probing. Chaining is simpler but uses more memory, while open addressing is more memory-efficient but can degrade with high load factors.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 90.0,
            'evaluation': {
                'score': 90.0,
                'semantic_similarity': 0.88,
                'completeness': 0.90,
                'relevance': 0.95,
                'sentiment': 'confident',
                'reasoning': 'Strong understanding of hash table internals and collision resolution. Good trade-off analysis.',
                'strengths': ['Complete explanation', 'Trade-off understanding', 'Practical knowledge'],
                'weaknesses': ['Could mention double hashing', 'Load factor specifics'],
                'improvement_suggestions': ['Learn double hashing technique', 'Understand optimal load factors']
            },
            'similarity_score': 0.88,
            'gaps': {
                'concepts': ['double_hashing', 'optimal_load_factor'],
                'confirmed': False,
                'keywords': ['double hashing', 'load factor'],
                'entities': []
            },
            'metadata': {'response_time_seconds': 90, 'word_count': 85},
            'created_at': now - timedelta(days=10, hours=3, minutes=15),
            'evaluated_at': now - timedelta(days=10, hours=3, minutes=17),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440007'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440002'),
            'question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440004'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440002'),
            'text': 'Authentication verifies who the user is, authorization determines what they can do. I implement auth using JWT tokens stored in httpOnly cookies for security. For authorization, I use role-based access control (RBAC) with middleware that checks user roles before allowing access to protected routes. I also hash passwords with bcrypt and use OAuth2 for third-party login.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 95.0,
            'evaluation': {
                'score': 87.0,
                'semantic_similarity': 0.84,
                'completeness': 0.85,
                'relevance': 0.90,
                'sentiment': 'confident',
                'reasoning': 'Good practical implementation knowledge. Clear distinction between auth and authz.',
                'strengths': ['Clear auth/authz distinction', 'Practical implementation', 'Security awareness'],
                'weaknesses': ['Could mention session management', 'Token refresh strategies'],
                'improvement_suggestions': ['Learn token refresh patterns', 'Understand session vs token trade-offs']
            },
            'similarity_score': 0.84,
            'gaps': {
                'concepts': ['token_refresh', 'session_management'],
                'confirmed': False,
                'keywords': ['refresh token', 'session'],
                'entities': []
            },
            'metadata': {'response_time_seconds': 95, 'word_count': 72},
            'created_at': now - timedelta(days=10, hours=3, minutes=25),
            'evaluated_at': now - timedelta(days=10, hours=3, minutes=27),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440008'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440002'),
            'question_id': uuid.UUID('650e8400-e29b-41d4-a716-446655440010'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440002'),
            'text': 'SOLID principles guide object-oriented design. Single Responsibility means a class should have one reason to change. Open/Closed means open for extension, closed for modification. Liskov Substitution means derived classes must be substitutable for base classes. Interface Segregation means clients shouldn\'t depend on interfaces they don\'t use. Dependency Inversion means depend on abstractions, not concretions. I apply these in my code reviews and refactoring.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 100.0,
            'evaluation': {
                'score': 92.0,
                'semantic_similarity': 0.90,
                'completeness': 0.92,
                'relevance': 0.95,
                'sentiment': 'confident',
                'reasoning': 'Excellent comprehensive understanding of all SOLID principles. Shows practical application.',
                'strengths': ['Complete coverage', 'Practical application', 'Clear explanations'],
                'weaknesses': [],
                'improvement_suggestions': []
            },
            'similarity_score': 0.90,
            'gaps': {
                'concepts': [],
                'confirmed': False,
                'keywords': [],
                'entities': []
            },
            'metadata': {'response_time_seconds': 100, 'word_count': 88},
            'created_at': now - timedelta(days=10, hours=3, minutes=35),
            'evaluated_at': now - timedelta(days=10, hours=3, minutes=37),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440009'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440002'),
            'question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440014'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440002'),
            'text': 'When prioritizing with limited time, I consider business value, user impact, dependencies, and risks. I focus on MVP features first, then iterate. I communicate with stakeholders to understand priorities and break work into smaller tasks. I also consider technical debt and maintenance needs.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 80.0,
            'evaluation': {
                'score': 85.0,
                'semantic_similarity': 0.82,
                'completeness': 0.83,
                'relevance': 0.88,
                'sentiment': 'confident',
                'reasoning': 'Good prioritization framework. Shows stakeholder awareness and practical approach.',
                'strengths': ['Clear framework', 'Stakeholder communication', 'MVP approach'],
                'weaknesses': ['Could mention urgency vs importance', 'More specific examples'],
                'improvement_suggestions': ['Learn Eisenhower matrix', 'Practice with real scenarios']
            },
            'similarity_score': 0.82,
            'gaps': {
                'concepts': [],
                'confirmed': False,
                'keywords': [],
                'entities': []
            },
            'metadata': {'response_time_seconds': 80, 'word_count': 58},
            'created_at': now - timedelta(days=10, hours=3, minutes=40),
            'evaluated_at': now - timedelta(days=10, hours=3, minutes=42),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440010'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440003'),
            'question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440002'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440003'),
            'text': 'Monolithic architecture bundles all components into a single deployable unit, which simplifies initial development, testing, and deployment. However, it becomes harder to scale and maintain at large scale. Microservices split functionality into independent, loosely coupled services that can be developed, deployed, and scaled independently. This offers better fault isolation, technology diversity, and team autonomy, but adds complexity in service communication, distributed tracing, and eventual consistency. I choose monoliths for small teams, simple domains, or when starting a project. I choose microservices when dealing with large teams, complex domains requiring different scaling patterns, or when services have distinct lifecycles. The key is not to over-engineer early.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 120.0,
            'evaluation': {
                'score': 95.0,
                'semantic_similarity': 0.93,
                'completeness': 0.95,
                'relevance': 0.98,
                'sentiment': 'very_confident',
                'reasoning': 'Exceptional understanding of architectural patterns with deep trade-off analysis. Shows senior-level thinking.',
                'strengths': ['Comprehensive trade-off analysis', 'Practical decision criteria', 'Senior-level insights'],
                'weaknesses': [],
                'improvement_suggestions': []
            },
            'similarity_score': 0.93,
            'gaps': {
                'concepts': [],
                'confirmed': False,
                'keywords': [],
                'entities': []
            },
            'metadata': {'response_time_seconds': 120, 'word_count': 142},
            'created_at': now - timedelta(days=8, hours=1, minutes=5),
            'evaluated_at': now - timedelta(days=8, hours=1, minutes=8),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440011'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440003'),
            'question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440005'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440003'),
            'text': 'CAP theorem states that in a distributed system, you can only guarantee two out of three: Consistency (all nodes see same data), Availability (system remains operational), and Partition tolerance (system continues despite network failures). Since partition tolerance is unavoidable in distributed systems, you choose between CP (consistency and partition tolerance) or AP (availability and partition tolerance). CP systems like traditional databases prioritize consistency, while AP systems like DynamoDB prioritize availability. I design systems based on use case: financial transactions need CP, while social media feeds can use AP with eventual consistency.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 110.0,
            'evaluation': {
                'score': 94.0,
                'semantic_similarity': 0.91,
                'completeness': 0.93,
                'relevance': 0.96,
                'sentiment': 'very_confident',
                'reasoning': 'Excellent understanding of CAP theorem with practical application examples. Shows deep distributed systems knowledge.',
                'strengths': ['Complete CAP explanation', 'Practical examples', 'Use case understanding'],
                'weaknesses': [],
                'improvement_suggestions': []
            },
            'similarity_score': 0.91,
            'gaps': {
                'concepts': [],
                'confirmed': False,
                'keywords': [],
                'entities': []
            },
            'metadata': {'response_time_seconds': 110, 'word_count': 118},
            'created_at': now - timedelta(days=8, hours=1, minutes=20),
            'evaluated_at': now - timedelta(days=8, hours=1, minutes=23),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440012'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440003'),
            'question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440009'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440003'),
            'text': 'The event loop is Node.js\'s core mechanism for handling asynchronous operations. It\'s a single-threaded loop that continuously checks the call stack and callback queue. When the call stack is empty, it moves callbacks from the queue to the stack. The event loop has phases: timers (setTimeout/setInterval), pending callbacks, idle/prepare, poll (I/O), check (setImmediate), and close callbacks. This allows Node.js to handle thousands of concurrent connections efficiently despite being single-threaded. I use worker threads for CPU-intensive tasks to avoid blocking the event loop.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 105.0,
            'evaluation': {
                'score': 93.0,
                'semantic_similarity': 0.90,
                'completeness': 0.92,
                'relevance': 0.95,
                'sentiment': 'very_confident',
                'reasoning': 'Deep understanding of event loop internals with practical optimization knowledge.',
                'strengths': ['Complete phase explanation', 'Practical optimization', 'Worker threads knowledge'],
                'weaknesses': [],
                'improvement_suggestions': []
            },
            'similarity_score': 0.90,
            'gaps': {
                'concepts': [],
                'confirmed': False,
                'keywords': [],
                'entities': []
            },
            'metadata': {'response_time_seconds': 105, 'word_count': 108},
            'created_at': now - timedelta(days=8, hours=1, minutes=35),
            'evaluated_at': now - timedelta(days=8, hours=1, minutes=38),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440013'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440003'),
            'question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440017'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440003'),
            'text': 'I implement multi-layer caching: browser cache for static assets, CDN for global distribution, Redis for application-level caching with TTL, and database query caching. I use cache-aside pattern where the application checks cache first, then database. For invalidation, I use TTL-based expiration and event-driven invalidation when data changes. I also implement cache warming for frequently accessed data and monitor cache hit rates. For distributed systems, I use consistent hashing to distribute cache across nodes.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 115.0,
            'evaluation': {
                'score': 96.0,
                'semantic_similarity': 0.94,
                'completeness': 0.96,
                'relevance': 0.98,
                'sentiment': 'very_confident',
                'reasoning': 'Exceptional comprehensive caching strategy covering all layers and patterns. Shows production experience.',
                'strengths': ['Multi-layer approach', 'Pattern knowledge', 'Monitoring awareness', 'Distributed systems'],
                'weaknesses': [],
                'improvement_suggestions': []
            },
            'similarity_score': 0.94,
            'gaps': {
                'concepts': [],
                'confirmed': False,
                'keywords': [],
                'entities': []
            },
            'metadata': {'response_time_seconds': 115, 'word_count': 98},
            'created_at': now - timedelta(days=8, hours=1, minutes=45),
            'evaluated_at': now - timedelta(days=8, hours=1, minutes=48),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440014'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440003'),
            'question_id': uuid.UUID('650e8400-e29b-41d4-a716-446655440008'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440003'),
            'text': 'To handle 1M requests per second, I\'d design a horizontally scalable architecture. Load balancers distribute traffic across multiple application servers. I\'d use caching layers (Redis cluster) for frequently accessed data, CDN for static content, and database sharding with read replicas. Message queues (Kafka) handle async processing. I\'d implement rate limiting, circuit breakers, and auto-scaling. Database would use connection pooling and query optimization. I\'d monitor with distributed tracing and metrics. The key is identifying bottlenecks and scaling each layer independently.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 130.0,
            'evaluation': {
                'score': 97.0,
                'semantic_similarity': 0.95,
                'completeness': 0.97,
                'relevance': 0.99,
                'sentiment': 'very_confident',
                'reasoning': 'Outstanding system design thinking covering all critical aspects. Shows expert-level architecture knowledge.',
                'strengths': ['Comprehensive architecture', 'All key components', 'Monitoring and resilience', 'Bottleneck awareness'],
                'weaknesses': [],
                'improvement_suggestions': []
            },
            'similarity_score': 0.95,
            'gaps': {
                'concepts': [],
                'confirmed': False,
                'keywords': [],
                'entities': []
            },
            'metadata': {'response_time_seconds': 130, 'word_count': 112},
            'created_at': now - timedelta(days=8, hours=1, minutes=50),
            'evaluated_at': now - timedelta(days=8, hours=1, minutes=53),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440015'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440004'),
            'question_id': uuid.UUID('650e8400-e29b-41d4-a716-446655440007'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440004'),
            'text': 'React Hooks are functions that enable functional components to use state and lifecycle features. I use useState for component state, useEffect for side effects like API calls and subscriptions, useContext for sharing data without prop drilling, useMemo for expensive computations, and useCallback to memoize functions. Custom hooks let me extract reusable logic. Hooks follow rules: only call at top level and only in React functions. They make code more reusable and easier to test than class components.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 95.0,
            'evaluation': {
                'score': 91.0,
                'semantic_similarity': 0.88,
                'completeness': 0.90,
                'relevance': 0.94,
                'sentiment': 'confident',
                'reasoning': 'Excellent comprehensive understanding of React Hooks with optimization hooks and best practices.',
                'strengths': ['Complete hook coverage', 'Optimization hooks', 'Rules of hooks', 'Custom hooks'],
                'weaknesses': [],
                'improvement_suggestions': []
            },
            'similarity_score': 0.88,
            'gaps': {
                'concepts': [],
                'confirmed': False,
                'keywords': [],
                'entities': []
            },
            'metadata': {'response_time_seconds': 95, 'word_count': 96},
            'created_at': now - timedelta(days=6, hours=2, minutes=30, seconds=5),
            'evaluated_at': now - timedelta(days=6, hours=2, minutes=30, seconds=7),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440016'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440004'),
            'question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440009'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440004'),
            'text': 'The event loop handles asynchronous operations in JavaScript. It continuously checks the call stack and callback queue. When the stack is empty, it moves callbacks to the stack. The loop has phases: timers, pending callbacks, poll, check, and close. This allows JavaScript to be non-blocking despite being single-threaded. I use async/await for cleaner async code and avoid blocking the event loop with heavy computations.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 70.0,
            'evaluation': {
                'score': 86.0,
                'semantic_similarity': 0.83,
                'completeness': 0.84,
                'relevance': 0.90,
                'sentiment': 'confident',
                'reasoning': 'Good understanding of event loop basics. Could go deeper into phases and microtasks.',
                'strengths': ['Core concept clear', 'Practical usage', 'Non-blocking understanding'],
                'weaknesses': ['Could detail microtask queue', 'More phase specifics'],
                'improvement_suggestions': ['Learn microtask vs macrotask', 'Study event loop phases in depth']
            },
            'similarity_score': 0.83,
            'gaps': {
                'concepts': ['microtask_queue', 'macrotask'],
                'confirmed': False,
                'keywords': ['microtask', 'macrotask'],
                'entities': []
            },
            'metadata': {'response_time_seconds': 70, 'word_count': 68},
            'created_at': now - timedelta(days=6, hours=2, minutes=45),
            'evaluated_at': now - timedelta(days=6, hours=2, minutes=46),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440017'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440004'),
            'question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440007'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440004'),
            'text': 'Unit tests test individual functions or components in isolation, typically with mocks. Integration tests verify how multiple components work together. E2E tests simulate real user workflows. I use Jest and React Testing Library for unit and integration tests, and Cypress for E2E. I aim for high unit test coverage, fewer integration tests, and critical path E2E tests. This follows the testing pyramid.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 75.0,
            'evaluation': {
                'score': 89.0,
                'semantic_similarity': 0.86,
                'completeness': 0.87,
                'relevance': 0.92,
                'sentiment': 'confident',
                'reasoning': 'Strong testing knowledge with practical tool usage and pyramid understanding.',
                'strengths': ['Clear test type distinctions', 'Tool knowledge', 'Testing pyramid', 'Coverage strategy'],
                'weaknesses': [],
                'improvement_suggestions': []
            },
            'similarity_score': 0.86,
            'gaps': {
                'concepts': [],
                'confirmed': False,
                'keywords': [],
                'entities': []
            },
            'metadata': {'response_time_seconds': 75, 'word_count': 71},
            'created_at': now - timedelta(days=6, hours=3, minutes=0),
            'evaluated_at': now - timedelta(days=6, hours=3, minutes=2),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440018'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440004'),
            'question_id': uuid.UUID('650e8400-e29b-41d4-a716-446655440003'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440004'),
            'text': 'async/await is syntactic sugar over Promises that makes asynchronous code look synchronous. An async function returns a Promise. await pauses execution until the Promise resolves. I use try/catch for error handling. It\'s cleaner than promise chains and easier to read. Under the hood, it still uses Promises and the event loop. I use it for API calls, file operations, and any async operations.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 65.0,
            'evaluation': {
                'score': 88.0,
                'semantic_similarity': 0.85,
                'completeness': 0.86,
                'relevance': 0.92,
                'sentiment': 'confident',
                'reasoning': 'Good understanding of async/await with practical usage. Could mention parallel execution.',
                'strengths': ['Clear explanation', 'Error handling', 'Practical usage'],
                'weaknesses': ['Could mention Promise.all', 'Parallel execution patterns'],
                'improvement_suggestions': ['Learn Promise.all for parallel execution', 'Understand async iteration']
            },
            'similarity_score': 0.85,
            'gaps': {
                'concepts': ['Promise.all', 'parallel_execution'],
                'confirmed': False,
                'keywords': ['Promise.all', 'parallel'],
                'entities': []
            },
            'metadata': {'response_time_seconds': 65, 'word_count': 66},
            'created_at': now - timedelta(days=6, hours=3, minutes=10),
            'evaluated_at': now - timedelta(days=6, hours=3, minutes=12),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440019'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440005'),
            'question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440002'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440005'),
            'text': 'Microservices split applications into independent services that can be deployed separately. Each service has its own database and communicates via APIs. This allows teams to work independently and scale services individually. Monoliths are simpler but harder to scale. I\'ve worked with Kubernetes to orchestrate microservices and use service meshes for communication.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 85.0,
            'evaluation': {
                'score': 87.0,
                'semantic_similarity': 0.84,
                'completeness': 0.85,
                'relevance': 0.90,
                'sentiment': 'confident',
                'reasoning': 'Good understanding with practical Kubernetes experience. Could mention more trade-offs.',
                'strengths': ['Clear explanation', 'Kubernetes experience', 'Practical knowledge'],
                'weaknesses': ['Could detail more trade-offs', 'Service mesh specifics'],
                'improvement_suggestions': ['Learn service mesh patterns', 'Understand distributed tracing']
            },
            'similarity_score': 0.84,
            'gaps': {
                'concepts': ['service_mesh', 'distributed_tracing'],
                'confirmed': False,
                'keywords': ['service mesh', 'tracing'],
                'entities': []
            },
            'metadata': {'response_time_seconds': 85, 'word_count': 58},
            'created_at': now - timedelta(days=4, hours=1, minutes=5),
            'evaluated_at': now - timedelta(days=4, hours=1, minutes=7),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440020'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440005'),
            'question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440018'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440005'),
            'text': 'Horizontal scaling adds more servers or instances, while vertical scaling increases resources on existing servers. Horizontal is better for cloud because you can add instances on demand. Vertical has limits based on hardware. I prefer horizontal for microservices because it provides better fault tolerance and can scale individual services. I use auto-scaling groups in AWS to handle traffic spikes.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 90.0,
            'evaluation': {
                'score': 89.0,
                'semantic_similarity': 0.86,
                'completeness': 0.88,
                'relevance': 0.93,
                'sentiment': 'confident',
                'reasoning': 'Excellent understanding with practical cloud experience. Good fault tolerance awareness.',
                'strengths': ['Clear distinction', 'Cloud experience', 'Fault tolerance', 'Practical application'],
                'weaknesses': [],
                'improvement_suggestions': []
            },
            'similarity_score': 0.86,
            'gaps': {
                'concepts': [],
                'confirmed': False,
                'keywords': [],
                'entities': []
            },
            'metadata': {'response_time_seconds': 90, 'word_count': 72},
            'created_at': now - timedelta(days=4, hours=1, minutes=20),
            'evaluated_at': now - timedelta(days=4, hours=1, minutes=22),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440021'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440006'),
            'question_id': uuid.UUID('650e8400-e29b-41d4-a716-446655440023'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440006'),
            'text': 'Garbage collection automatically frees memory by removing unused objects. Java uses generational GC with young generation (Eden, Survivor spaces) and old generation. Objects start in Eden, survive collections move to Survivor, and long-lived objects go to old generation. The GC pauses application execution. I tune GC settings based on application needs and monitor GC logs.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 80.0,
            'evaluation': {
                'score': 83.0,
                'semantic_similarity': 0.80,
                'completeness': 0.81,
                'relevance': 0.88,
                'sentiment': 'confident',
                'reasoning': 'Good understanding of Java GC with generational model. Could mention GC algorithms.',
                'strengths': ['Generational model clear', 'Practical tuning', 'Monitoring awareness'],
                'weaknesses': ['Could mention GC algorithms', 'More on pause times'],
                'improvement_suggestions': ['Learn different GC algorithms', 'Understand GC tuning strategies']
            },
            'similarity_score': 0.80,
            'gaps': {
                'concepts': ['gc_algorithms', 'pause_time_optimization'],
                'confirmed': True,
                'keywords': ['GC algorithms', 'pause times'],
                'entities': []
            },
            'metadata': {'response_time_seconds': 80, 'word_count': 70},
            'created_at': now - timedelta(days=2, hours=2, minutes=5),
            'evaluated_at': now - timedelta(days=2, hours=2, minutes=7),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440022'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440007'),
            'question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440005'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440007'),
            'text': 'CAP theorem says in distributed systems you can only have two of three: Consistency, Availability, Partition tolerance. Since partitions are inevitable, you choose CP or AP. CP systems prioritize consistency, AP systems prioritize availability. I design based on use case: financial data needs CP, social feeds can use AP with eventual consistency.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 70.0,
            'evaluation': {
                'score': 88.0,
                'semantic_similarity': 0.85,
                'completeness': 0.86,
                'relevance': 0.91,
                'sentiment': 'confident',
                'reasoning': 'Good understanding of CAP theorem with practical application. Could mention more examples.',
                'strengths': ['Clear CAP explanation', 'Practical examples', 'Use case understanding'],
                'weaknesses': ['Could mention more database examples', 'Consistency models'],
                'improvement_suggestions': ['Learn consistency models', 'Study real-world CAP implementations']
            },
            'similarity_score': 0.85,
            'gaps': {
                'concepts': ['consistency_models', 'real_world_implementations'],
                'confirmed': False,
                'keywords': ['consistency models'],
                'entities': []
            },
            'metadata': {'response_time_seconds': 70, 'word_count': 58},
            'created_at': now - timedelta(days=1, hours=3, minutes=5),
            'evaluated_at': now - timedelta(days=1, hours=3, minutes=7),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440023'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440007'),
            'question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440008'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440007'),
            'text': 'Python uses reference counting and generational garbage collection. Each object has a reference count. When it reaches zero, memory is freed. The cyclic garbage collector handles circular references. The GC has three generations. I can control it with gc module and disable it for performance-critical code.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 65.0,
            'evaluation': {
                'score': 85.0,
                'semantic_similarity': 0.82,
                'completeness': 0.83,
                'relevance': 0.89,
                'sentiment': 'confident',
                'reasoning': 'Good understanding of Python GC mechanisms. Could mention more details on generations.',
                'strengths': ['Reference counting clear', 'Cyclic GC mentioned', 'Practical control'],
                'weaknesses': ['Could detail generation specifics', 'More on performance tuning'],
                'improvement_suggestions': ['Learn GC generation details', 'Understand GC tuning for performance']
            },
            'similarity_score': 0.82,
            'gaps': {
                'concepts': ['generation_details', 'gc_tuning'],
                'confirmed': False,
                'keywords': ['generations', 'tuning'],
                'entities': []
            },
            'metadata': {'response_time_seconds': 65, 'word_count': 52},
            'created_at': now - timedelta(days=1, hours=3, minutes=20),
            'evaluated_at': now - timedelta(days=1, hours=3, minutes=22),
        },
        {
            'id': uuid.UUID('a60e8400-e29b-41d4-a716-446655440024'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440007'),
            'question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440002'),
            'candidate_id': uuid.UUID('660e8400-e29b-41d4-a716-446655440007'),
            'text': 'Microservices architecture splits applications into independent services. Each service has its own database and team. Benefits include independent deployment, technology diversity, and fault isolation. Challenges include service communication, distributed transactions, and monitoring complexity. I use API gateways, service discovery, and distributed tracing. I prefer starting with monolith and extracting services when needed.',
            'is_voice': False,
            'audio_file_path': None,
            'duration_seconds': 95.0,
            'evaluation': {
                'score': 90.0,
                'semantic_similarity': 0.87,
                'completeness': 0.89,
                'relevance': 0.93,
                'sentiment': 'confident',
                'reasoning': 'Excellent understanding with practical patterns and pragmatic approach to adoption.',
                'strengths': ['Complete explanation', 'Practical patterns', 'Pragmatic approach', 'Challenges awareness'],
                'weaknesses': [],
                'improvement_suggestions': []
            },
            'similarity_score': 0.87,
            'gaps': {
                'concepts': [],
                'confirmed': False,
                'keywords': [],
                'entities': []
            },
            'metadata': {'response_time_seconds': 95, 'word_count': 76},
            'created_at': now - timedelta(days=1, hours=3, minutes=35),
            'evaluated_at': now - timedelta(days=1, hours=3, minutes=37),
        },
    ]

    op.bulk_insert(answers_table, answers_data)

    print("[OK] Seeded answers")

    # =============================================
    # SEED DATA - FOLLOW-UP QUESTIONS (12 total)
    # =============================================
    follow_up_data = [
        {
            'id': uuid.UUID('b60e8400-e29b-41d4-a716-446655440001'),
            'parent_question_id': uuid.UUID('650e8400-e29b-41d4-a716-446655440001'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440001'),
            'text': 'You mentioned the scope differences. Can you explain what hoisting is in JavaScript and how it differs between var, let, and const?',
            'generated_reason': 'Missing key concept: hoisting behavior. The answer covered scope but did not mention how variable declarations are hoisted differently for var vs let/const.',
            'order_in_sequence': 1,
            'created_at': now - timedelta(days=12, hours=2, minutes=7),
        },
        {
            'id': uuid.UUID('b60e8400-e29b-41d4-a716-446655440002'),
            'parent_question_id': uuid.UUID('650e8400-e29b-41d4-a716-446655440001'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440001'),
            'text': 'What is the Temporal Dead Zone (TDZ) and how does it relate to let and const?',
            'generated_reason': 'Missing key concept: Temporal Dead Zone. The answer did not explain why accessing let/const before declaration throws a ReferenceError, which is a critical understanding gap.',
            'order_in_sequence': 2,
            'created_at': now - timedelta(days=12, hours=2, minutes=8),
        },
        {
            'id': uuid.UUID('b60e8400-e29b-41d4-a716-446655440003'),
            'parent_question_id': uuid.UUID('650e8400-e29b-41d4-a716-446655440007'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440001'),
            'text': 'You mentioned useState and useEffect. Can you explain when you would use useMemo and useCallback, and what problems they solve?',
            'generated_reason': 'Missing optimization hooks: useMemo and useCallback. The answer covered basic hooks but did not demonstrate understanding of performance optimization hooks, which are important for React applications.',
            'order_in_sequence': 1,
            'created_at': now - timedelta(days=12, hours=2, minutes=17),
        },
        {
            'id': uuid.UUID('b60e8400-e29b-41d4-a716-446655440004'),
            'parent_question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440009'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440004'),
            'text': 'You mentioned the event loop phases. Can you explain the difference between the microtask queue and the macrotask queue, and how they are processed?',
            'generated_reason': 'Missing key concept: microtask vs macrotask queues. The answer covered event loop phases but did not explain the critical distinction between microtasks (Promise callbacks) and macrotasks (setTimeout), which is essential for understanding async execution order.',
            'order_in_sequence': 1,
            'created_at': now - timedelta(days=6, hours=2, minutes=47),
        },
        {
            'id': uuid.UUID('b60e8400-e29b-41d4-a716-446655440005'),
            'parent_question_id': uuid.UUID('650e8400-e29b-41d4-a716-446655440003'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440004'),
            'text': 'You explained async/await well. How would you execute multiple async operations in parallel, and what would you use for that?',
            'generated_reason': 'Missing parallel execution pattern: Promise.all. The answer covered sequential async/await usage but did not demonstrate understanding of parallel execution, which is a common optimization pattern.',
            'order_in_sequence': 1,
            'created_at': now - timedelta(days=6, hours=3, minutes=13),
        },
        {
            'id': uuid.UUID('b60e8400-e29b-41d4-a716-446655440006'),
            'parent_question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440002'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440005'),
            'text': 'You mentioned Kubernetes for orchestration. Can you explain what a service mesh is and how it helps with microservices communication and observability?',
            'generated_reason': 'Missing key concept: service mesh. The answer showed good understanding of microservices and Kubernetes but did not cover service mesh patterns, which are important for production microservices architectures.',
            'order_in_sequence': 1,
            'created_at': now - timedelta(days=4, hours=1, minutes=8),
        },
        {
            'id': uuid.UUID('b60e8400-e29b-41d4-a716-446655440007'),
            'parent_question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440002'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440005'),
            'text': 'How would you implement distributed tracing across microservices to debug issues that span multiple services?',
            'generated_reason': 'Missing observability pattern: distributed tracing. The answer covered microservices architecture but did not address how to trace requests across service boundaries, which is critical for debugging distributed systems.',
            'order_in_sequence': 2,
            'created_at': now - timedelta(days=4, hours=1, minutes=9),
        },
        {
            'id': uuid.UUID('b60e8400-e29b-41d4-a716-446655440008'),
            'parent_question_id': uuid.UUID('650e8400-e29b-41d4-a716-446655440023'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440006'),
            'text': 'You explained the generational GC model. Can you name and compare the different GC algorithms available in the JVM, such as G1, Parallel, and ZGC?',
            'generated_reason': 'Missing key knowledge: GC algorithms. The answer covered generational GC basics but did not demonstrate knowledge of different GC algorithms and their trade-offs, which is important for JVM tuning.',
            'order_in_sequence': 1,
            'created_at': now - timedelta(days=2, hours=2, minutes=8),
        },
        {
            'id': uuid.UUID('b60e8400-e29b-41d4-a716-446655440009'),
            'parent_question_id': uuid.UUID('650e8400-e29b-41d4-a716-446655440023'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440006'),
            'text': 'How would you optimize GC pause times for a low-latency application? What strategies would you use?',
            'generated_reason': 'Missing optimization knowledge: GC pause time reduction. The answer mentioned monitoring GC logs but did not cover strategies for minimizing pause times, which is critical for latency-sensitive applications.',
            'order_in_sequence': 2,
            'created_at': now - timedelta(days=2, hours=2, minutes=9),
        },
        {
            'id': uuid.UUID('b60e8400-e29b-41d4-a716-446655440010'),
            'parent_question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440005'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440007'),
            'text': 'You explained CP and AP systems well. Can you describe different consistency models, such as eventual consistency, strong consistency, and causal consistency?',
            'generated_reason': 'Missing key concept: consistency models. The answer covered CAP theorem basics but did not explain different consistency models, which are important for understanding how distributed systems handle data consistency.',
            'order_in_sequence': 1,
            'created_at': now - timedelta(days=1, hours=3, minutes=8),
        },
        {
            'id': uuid.UUID('b60e8400-e29b-41d4-a716-446655440011'),
            'parent_question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440008'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440007'),
            'text': 'You mentioned three generations. Can you explain in detail how the generational GC works in Python, including the threshold values and collection frequency for each generation?',
            'generated_reason': 'Missing detailed knowledge: GC generation specifics. The answer covered basic GC mechanisms but did not explain the detailed workings of generational GC, including thresholds and collection strategies, which is important for Python performance tuning.',
            'order_in_sequence': 1,
            'created_at': now - timedelta(days=1, hours=3, minutes=23),
        },
        {
            'id': uuid.UUID('b60e8400-e29b-41d4-a716-446655440012'),
            'parent_question_id': uuid.UUID('760e8400-e29b-41d4-a716-446655440008'),
            'interview_id': uuid.UUID('960e8400-e29b-41d4-a716-446655440007'),
            'text': 'How would you tune Python\'s garbage collector for a high-throughput application? What gc module functions and parameters would you adjust?',
            'generated_reason': 'Missing practical knowledge: GC tuning strategies. The answer mentioned the gc module but did not demonstrate understanding of how to tune GC for performance, which is important for production Python applications.',
            'order_in_sequence': 2,
            'created_at': now - timedelta(days=1, hours=3, minutes=24),
        },
    ]

    op.bulk_insert(follow_up_questions_table, follow_up_data)

    print("[OK] Seeded follow-up questions")
    print("[OK] All seed data inserted successfully")


def downgrade() -> None:
    """Downgrade - delete only seeded data generated by this migration."""
    conn = op.get_bind()

    # Delete in reverse order of dependencies to respect foreign key constraints
    print("[INFO] Removing seeded data...")

    # Define all IDs that were inserted by this migration
    follow_up_question_ids = [
        'b60e8400-e29b-41d4-a716-446655440001', 'b60e8400-e29b-41d4-a716-446655440002',
        'b60e8400-e29b-41d4-a716-446655440003', 'b60e8400-e29b-41d4-a716-446655440004',
        'b60e8400-e29b-41d4-a716-446655440005', 'b60e8400-e29b-41d4-a716-446655440006',
        'b60e8400-e29b-41d4-a716-446655440007', 'b60e8400-e29b-41d4-a716-446655440008',
        'b60e8400-e29b-41d4-a716-446655440009', 'b60e8400-e29b-41d4-a716-446655440010',
        'b60e8400-e29b-41d4-a716-446655440011', 'b60e8400-e29b-41d4-a716-446655440012',
    ]

    answer_ids = [
        '950e8400-e29b-41d4-a716-446655440001', '950e8400-e29b-41d4-a716-446655440002',
        '950e8400-e29b-41d4-a716-446655440003', '950e8400-e29b-41d4-a716-446655440004',
        '950e8400-e29b-41d4-a716-446655440005', '950e8400-e29b-41d4-a716-446655440006',
        '950e8400-e29b-41d4-a716-446655440007',
        'a60e8400-e29b-41d4-a716-446655440001', 'a60e8400-e29b-41d4-a716-446655440002',
        'a60e8400-e29b-41d4-a716-446655440003', 'a60e8400-e29b-41d4-a716-446655440004',
        'a60e8400-e29b-41d4-a716-446655440005', 'a60e8400-e29b-41d4-a716-446655440006',
        'a60e8400-e29b-41d4-a716-446655440007', 'a60e8400-e29b-41d4-a716-446655440008',
        'a60e8400-e29b-41d4-a716-446655440009', 'a60e8400-e29b-41d4-a716-446655440010',
        'a60e8400-e29b-41d4-a716-446655440011', 'a60e8400-e29b-41d4-a716-446655440012',
        'a60e8400-e29b-41d4-a716-446655440013', 'a60e8400-e29b-41d4-a716-446655440014',
        'a60e8400-e29b-41d4-a716-446655440015', 'a60e8400-e29b-41d4-a716-446655440016',
        'a60e8400-e29b-41d4-a716-446655440017', 'a60e8400-e29b-41d4-a716-446655440018',
        'a60e8400-e29b-41d4-a716-446655440019', 'a60e8400-e29b-41d4-a716-446655440020',
        'a60e8400-e29b-41d4-a716-446655440021', 'a60e8400-e29b-41d4-a716-446655440022',
        'a60e8400-e29b-41d4-a716-446655440023', 'a60e8400-e29b-41d4-a716-446655440024',
    ]

    interview_ids = [
        '850e8400-e29b-41d4-a716-446655440001', '850e8400-e29b-41d4-a716-446655440002',
        '850e8400-e29b-41d4-a716-446655440003', '850e8400-e29b-41d4-a716-446655440004',
        '960e8400-e29b-41d4-a716-446655440001', '960e8400-e29b-41d4-a716-446655440002',
        '960e8400-e29b-41d4-a716-446655440003', '960e8400-e29b-41d4-a716-446655440004',
        '960e8400-e29b-41d4-a716-446655440005', '960e8400-e29b-41d4-a716-446655440006',
        '960e8400-e29b-41d4-a716-446655440007', '960e8400-e29b-41d4-a716-446655440008',
        '960e8400-e29b-41d4-a716-446655440009', '960e8400-e29b-41d4-a716-446655440010',
    ]

    cv_analysis_ids = [
        '750e8400-e29b-41d4-a716-446655440001', '750e8400-e29b-41d4-a716-446655440002',
        '750e8400-e29b-41d4-a716-446655440003',
        '860e8400-e29b-41d4-a716-446655440001', '860e8400-e29b-41d4-a716-446655440002',
        '860e8400-e29b-41d4-a716-446655440003', '860e8400-e29b-41d4-a716-446655440004',
        '860e8400-e29b-41d4-a716-446655440005', '860e8400-e29b-41d4-a716-446655440006',
        '860e8400-e29b-41d4-a716-446655440007',
    ]

    question_ids = [
        '650e8400-e29b-41d4-a716-446655440001', '650e8400-e29b-41d4-a716-446655440002',
        '650e8400-e29b-41d4-a716-446655440003', '650e8400-e29b-41d4-a716-446655440004',
        '650e8400-e29b-41d4-a716-446655440005', '650e8400-e29b-41d4-a716-446655440006',
        '650e8400-e29b-41d4-a716-446655440007', '650e8400-e29b-41d4-a716-446655440008',
        '650e8400-e29b-41d4-a716-446655440009', '650e8400-e29b-41d4-a716-446655440010',
        '650e8400-e29b-41d4-a716-446655440011', '650e8400-e29b-41d4-a716-446655440012',
        '650e8400-e29b-41d4-a716-446655440013', '650e8400-e29b-41d4-a716-446655440014',
        '650e8400-e29b-41d4-a716-446655440015', '650e8400-e29b-41d4-a716-446655440016',
        '650e8400-e29b-41d4-a716-446655440017', '650e8400-e29b-41d4-a716-446655440018',
        '650e8400-e29b-41d4-a716-446655440019', '650e8400-e29b-41d4-a716-446655440020',
        '650e8400-e29b-41d4-a716-446655440021', '650e8400-e29b-41d4-a716-446655440022',
        '650e8400-e29b-41d4-a716-446655440023',
        '760e8400-e29b-41d4-a716-446655440001', '760e8400-e29b-41d4-a716-446655440002',
        '760e8400-e29b-41d4-a716-446655440003', '760e8400-e29b-41d4-a716-446655440004',
        '760e8400-e29b-41d4-a716-446655440005', '760e8400-e29b-41d4-a716-446655440006',
        '760e8400-e29b-41d4-a716-446655440007', '760e8400-e29b-41d4-a716-446655440008',
        '760e8400-e29b-41d4-a716-446655440009', '760e8400-e29b-41d4-a716-446655440010',
        '760e8400-e29b-41d4-a716-446655440011', '760e8400-e29b-41d4-a716-446655440012',
        '760e8400-e29b-41d4-a716-446655440013', '760e8400-e29b-41d4-a716-446655440014',
        '760e8400-e29b-41d4-a716-446655440015', '760e8400-e29b-41d4-a716-446655440016',
        '760e8400-e29b-41d4-a716-446655440017', '760e8400-e29b-41d4-a716-446655440018',
    ]

    candidate_ids = [
        '550e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440002',
        '550e8400-e29b-41d4-a716-446655440003',
        '660e8400-e29b-41d4-a716-446655440001', '660e8400-e29b-41d4-a716-446655440002',
        '660e8400-e29b-41d4-a716-446655440003', '660e8400-e29b-41d4-a716-446655440004',
        '660e8400-e29b-41d4-a716-446655440005', '660e8400-e29b-41d4-a716-446655440006',
        '660e8400-e29b-41d4-a716-446655440007',
    ]

    # Delete follow-up questions first (depends on interviews and questions)
    if follow_up_question_ids:
        ids_list = "', '".join(follow_up_question_ids)
        result = conn.execute(sa.text(
            f"DELETE FROM follow_up_questions WHERE id::text IN ('{ids_list}')"
        ))
        deleted_count = result.rowcount
        if deleted_count > 0:
            print(f"[OK] Deleted {deleted_count} follow-up questions")
        else:
            print("[SKIP] No matching follow-up questions found")

    # Delete answers (depends on interviews, questions, candidates)
    if answer_ids:
        ids_list = "', '".join(answer_ids)
        result = conn.execute(sa.text(
            f"DELETE FROM answers WHERE id::text IN ('{ids_list}')"
        ))
        deleted_count = result.rowcount
        if deleted_count > 0:
            print(f"[OK] Deleted {deleted_count} answers")
        else:
            print("[SKIP] No matching answers found")

    # Delete interviews (depends on candidates, cv_analyses)
    if interview_ids:
        ids_list = "', '".join(interview_ids)
        result = conn.execute(sa.text(
            f"DELETE FROM interviews WHERE id::text IN ('{ids_list}')"
        ))
        deleted_count = result.rowcount
        if deleted_count > 0:
            print(f"[OK] Deleted {deleted_count} interviews")
        else:
            print("[SKIP] No matching interviews found")

    # Delete CV analyses (depends on candidates)
    if cv_analysis_ids:
        ids_list = "', '".join(cv_analysis_ids)
        result = conn.execute(sa.text(
            f"DELETE FROM cv_analyses WHERE id::text IN ('{ids_list}')"
        ))
        deleted_count = result.rowcount
        if deleted_count > 0:
            print(f"[OK] Deleted {deleted_count} CV analyses")
        else:
            print("[SKIP] No matching CV analyses found")

    # Delete questions (no dependencies from seed data)
    if question_ids:
        ids_list = "', '".join(question_ids)
        result = conn.execute(sa.text(
            f"DELETE FROM questions WHERE id::text IN ('{ids_list}')"
        ))
        deleted_count = result.rowcount
        if deleted_count > 0:
            print(f"[OK] Deleted {deleted_count} questions")
        else:
            print("[SKIP] No matching questions found")

    # Delete candidates last (no dependencies from seed data)
    if candidate_ids:
        ids_list = "', '".join(candidate_ids)
        result = conn.execute(sa.text(
            f"DELETE FROM candidates WHERE id::text IN ('{ids_list}')"
        ))
        deleted_count = result.rowcount
        if deleted_count > 0:
            print(f"[OK] Deleted {deleted_count} candidates")
        else:
            print("[SKIP] No matching candidates found")

    print("[OK] All seeded data removal completed")

